# Comparing `tmp/siat-2.3.1-py3-none-any.whl.zip` & `tmp/siat-2.3.6-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,8 +1,8 @@
-Zip file size: 1714578 bytes, number of entries: 126
+Zip file size: 1715458 bytes, number of entries: 126
 -rw-rw-rw-  2.0 fat      840 b- defN 23-Apr-10 11:29 siat/__init__.py
 -rw-rw-rw-  2.0 fat     2210 b- defN 23-Jul-12 15:22 siat/allin.py
 -rw-rw-rw-  2.0 fat      747 b- defN 23-Apr-10 11:29 siat/alpha_vantage_test.py
 -rw-rw-rw-  2.0 fat    28555 b- defN 23-Apr-10 11:29 siat/assets_liquidity.py
 -rw-rw-rw-  2.0 fat     1285 b- defN 23-Apr-10 11:29 siat/assets_liquidity_test.py
 -rw-rw-rw-  2.0 fat    10110 b- defN 23-Apr-10 11:29 siat/barrons_scraping_test.py
 -rw-rw-rw-  2.0 fat    36597 b- defN 23-Apr-10 11:29 siat/beta_adjustment.py
@@ -32,97 +32,97 @@
 -rw-rw-rw-  2.0 fat     2944 b- defN 23-Apr-10 11:29 siat/esg_test.py
 -rw-rw-rw-  2.0 fat  1161358 b- defN 23-Jun-05 00:28 siat/exchange_bond_china.pickle
 -rw-rw-rw-  2.0 fat    47177 b- defN 23-Apr-10 11:29 siat/fama_french.py
 -rw-rw-rw-  2.0 fat     4678 b- defN 23-Apr-10 11:29 siat/fama_french_test.py
 -rw-rw-rw-  2.0 fat    40695 b- defN 23-Apr-10 11:29 siat/financial_base.py
 -rw-rw-rw-  2.0 fat    21528 b- defN 23-Apr-10 11:29 siat/financial_statements.py
 -rw-rw-rw-  2.0 fat      716 b- defN 23-Apr-10 11:29 siat/financial_statements_test.py
--rw-rw-rw-  2.0 fat    77162 b- defN 23-May-27 08:24 siat/financials.py
--rw-rw-rw-  2.0 fat   173961 b- defN 23-May-27 10:00 siat/financials_china.py
--rw-rw-rw-  2.0 fat    60037 b- defN 23-Apr-23 05:59 siat/financials_china2.py
+-rw-rw-rw-  2.0 fat    78308 b- defN 23-Jul-13 12:26 siat/financials.py
+-rw-rw-rw-  2.0 fat   175477 b- defN 23-Jul-13 12:20 siat/financials_china.py
+-rw-rw-rw-  2.0 fat    60275 b- defN 23-Jul-13 12:11 siat/financials_china2.py
 -rw-rw-rw-  2.0 fat     2722 b- defN 23-Apr-10 11:29 siat/financials_china2_test.py
 -rw-rw-rw-  2.0 fat     3507 b- defN 23-Apr-10 11:29 siat/financials_china2_test2.py
 -rw-rw-rw-  2.0 fat     3118 b- defN 23-Apr-10 11:29 siat/financials_china2_test3.py
 -rw-rw-rw-  2.0 fat    17549 b- defN 23-Apr-10 11:29 siat/financials_china_test.py
 -rw-rw-rw-  2.0 fat     5924 b- defN 23-Apr-19 09:54 siat/financials_china_test2.py
 -rw-rw-rw-  2.0 fat     5924 b- defN 23-Apr-19 09:55 siat/financials_china_test2_fin_indicator.py
 -rw-rw-rw-  2.0 fat    23829 b- defN 23-Apr-10 11:29 siat/financials_test.py
 -rw-rw-rw-  2.0 fat     1201 b- defN 23-Apr-10 11:29 siat/fred_test.py
 -rw-rw-rw-  2.0 fat    24637 b- defN 23-Apr-10 11:29 siat/fund.py
 -rw-rw-rw-  2.0 fat  2047492 b- defN 23-Jun-05 00:28 siat/fund_china.pickle
--rw-rw-rw-  2.0 fat    74734 b- defN 23-Jun-10 07:59 siat/fund_china.py
+-rw-rw-rw-  2.0 fat    75278 b- defN 23-Jul-13 12:09 siat/fund_china.py
 -rw-rw-rw-  2.0 fat     6649 b- defN 23-Apr-10 11:29 siat/fund_china_test.py
 -rw-rw-rw-  2.0 fat     1116 b- defN 23-Apr-10 11:29 siat/fund_test.py
--rw-rw-rw-  2.0 fat    17513 b- defN 23-Jun-10 08:35 siat/future_china.py
+-rw-rw-rw-  2.0 fat    17595 b- defN 23-Jul-13 12:05 siat/future_china.py
 -rw-rw-rw-  2.0 fat     1163 b- defN 23-Apr-10 11:29 siat/future_china_test.py
 -rw-rw-rw-  2.0 fat     2402 b- defN 23-Apr-10 11:29 siat/global_index_test.py
 -rw-rw-rw-  2.0 fat    66109 b- defN 23-Jun-28 03:08 siat/grafix.py
 -rw-rw-rw-  2.0 fat     3150 b- defN 23-Apr-10 11:29 siat/grafix_test.py
 -rw-rw-rw-  2.0 fat    30544 b- defN 23-Apr-10 11:29 siat/holding_risk.py
 -rw-rw-rw-  2.0 fat      474 b- defN 23-Apr-10 11:29 siat/holding_risk_test.py
 -rw-rw-rw-  2.0 fat     3936 b- defN 23-Apr-10 11:29 siat/local_debug_test.py
--rw-rw-rw-  2.0 fat    31158 b- defN 23-Jun-30 14:53 siat/market_china.py
--rw-rw-rw-  2.0 fat    95641 b- defN 23-Jul-10 14:04 siat/markowitz.py
+-rw-rw-rw-  2.0 fat    31489 b- defN 23-Jul-13 11:07 siat/market_china.py
+-rw-rw-rw-  2.0 fat    96375 b- defN 23-Jul-13 11:27 siat/markowitz.py
 -rw-rw-rw-  2.0 fat     1593 b- defN 23-Apr-10 11:29 siat/markowitz_ccb_test.py
 -rw-rw-rw-  2.0 fat     4032 b- defN 23-Apr-10 11:29 siat/markowitz_ef_test.py
 -rw-rw-rw-  2.0 fat    33046 b- defN 23-Apr-10 11:29 siat/markowitz_old.py
 -rw-rw-rw-  2.0 fat    14160 b- defN 23-Jul-09 13:50 siat/markowitz_simple-20230709.py
 -rw-rw-rw-  2.0 fat    14281 b- defN 23-Jul-12 15:21 siat/markowitz_simple.py
 -rw-rw-rw-  2.0 fat     5818 b- defN 23-Apr-10 11:29 siat/markowitz_test.py
 -rw-rw-rw-  2.0 fat     2193 b- defN 23-Apr-11 06:52 siat/markowitz_test2.py
 -rw-rw-rw-  2.0 fat    86874 b- defN 23-Apr-10 11:29 siat/ml_cases.py
 -rw-rw-rw-  2.0 fat     1673 b- defN 23-Apr-10 11:29 siat/ml_cases_example.py
 -rw-rw-rw-  2.0 fat     1673 b- defN 23-Apr-10 11:29 siat/ml_cases_example1.py
--rw-rw-rw-  2.0 fat    95158 b- defN 23-May-24 14:28 siat/option_china.py
+-rw-rw-rw-  2.0 fat    95227 b- defN 23-Jul-13 12:04 siat/option_china.py
 -rw-rw-rw-  2.0 fat    16355 b- defN 23-Apr-10 11:29 siat/option_china_test.py
--rw-rw-rw-  2.0 fat    69625 b- defN 23-Apr-10 11:29 siat/option_pricing.py
+-rw-rw-rw-  2.0 fat    70231 b- defN 23-Jul-13 12:03 siat/option_pricing.py
 -rw-rw-rw-  2.0 fat     2203 b- defN 23-Apr-10 11:29 siat/option_pricing_test.py
 -rw-rw-rw-  2.0 fat     5908 b- defN 23-Apr-10 11:29 siat/option_sina_api_test.py
 -rw-rw-rw-  2.0 fat     2610 b- defN 23-Apr-10 11:29 siat/proxy_test.py
 -rw-rw-rw-  2.0 fat     1552 b- defN 23-Apr-10 11:29 siat/quandl_test.py
--rw-rw-rw-  2.0 fat    49425 b- defN 23-Jul-12 15:19 siat/risk_adjusted_return.py
+-rw-rw-rw-  2.0 fat    49572 b- defN 23-Jul-13 11:00 siat/risk_adjusted_return.py
 -rw-rw-rw-  2.0 fat     3416 b- defN 23-Apr-10 11:29 siat/risk_adjusted_return_test.py
--rw-rw-rw-  2.0 fat    75061 b- defN 23-Apr-10 11:29 siat/risk_evaluation.py
+-rw-rw-rw-  2.0 fat    75899 b- defN 23-Jul-13 11:58 siat/risk_evaluation.py
 -rw-rw-rw-  2.0 fat     3731 b- defN 23-Apr-10 11:29 siat/risk_evaluation_test.py
--rw-rw-rw-  2.0 fat    12304 b- defN 23-Apr-10 11:29 siat/risk_free_rate.py
+-rw-rw-rw-  2.0 fat    12388 b- defN 23-Jul-13 11:53 siat/risk_free_rate.py
 -rw-rw-rw-  2.0 fat     4285 b- defN 23-Apr-10 11:29 siat/risk_free_rate_test.py
--rw-rw-rw-  2.0 fat   101523 b- defN 23-May-27 06:22 siat/sector_china.py
+-rw-rw-rw-  2.0 fat   102148 b- defN 23-Jul-13 11:51 siat/sector_china.py
 -rw-rw-rw-  2.0 fat     5843 b- defN 23-Apr-11 14:17 siat/sector_china_test.py
 -rw-rw-rw-  2.0 fat    29185 b- defN 23-May-25 02:36 siat/security_price.py
--rw-rw-rw-  2.0 fat    74058 b- defN 23-Jul-05 13:33 siat/security_prices.py
+-rw-rw-rw-  2.0 fat    74152 b- defN 23-Jul-13 11:29 siat/security_prices.py
 -rw-rw-rw-  2.0 fat    10779 b- defN 23-Apr-10 11:29 siat/security_prices_test.py
 -rw-rw-rw-  2.0 fat     1335 b- defN 23-Apr-10 11:29 siat/setup.py
 -rw-rw-rw-  2.0 fat     1418 b- defN 23-Apr-10 11:29 siat/shenwan index history test.py
--rw-rw-rw-  2.0 fat   129603 b- defN 23-Jul-06 11:34 siat/stock.py
+-rw-rw-rw-  2.0 fat   130345 b- defN 23-Jul-13 11:34 siat/stock.py
 -rw-rw-rw-  2.0 fat    31655 b- defN 23-Apr-10 11:29 siat/stock_advice_linear.py
 -rw-rw-rw-  2.0 fat     1312 b- defN 23-Apr-10 11:29 siat/stock_base.py
--rw-rw-rw-  2.0 fat    82785 b- defN 23-Jun-17 02:52 siat/stock_china.py
+-rw-rw-rw-  2.0 fat    83256 b- defN 23-Jul-13 11:37 siat/stock_china.py
 -rw-rw-rw-  2.0 fat     1294 b- defN 23-Jun-14 07:32 siat/stock_china_test.py
 -rw-rw-rw-  2.0 fat  1266744 b- defN 23-Jun-05 00:13 siat/stock_info.pickle
 -rw-rw-rw-  2.0 fat     6122 b- defN 23-Apr-10 11:29 siat/stock_info_test.py
 -rw-rw-rw-  2.0 fat     1014 b- defN 23-Apr-10 11:29 siat/stock_list_china_test.py
 -rw-rw-rw-  2.0 fat    36738 b- defN 23-Apr-10 11:29 siat/stock_prices_kneighbors.py
 -rw-rw-rw-  2.0 fat    13991 b- defN 23-Apr-10 11:29 siat/stock_prices_linear.py
--rw-rw-rw-  2.0 fat    25017 b- defN 23-Apr-10 11:29 siat/stock_profile.py
--rw-rw-rw-  2.0 fat    72626 b- defN 23-Apr-10 11:29 siat/stock_technical.py
+-rw-rw-rw-  2.0 fat    25092 b- defN 23-Jul-13 11:38 siat/stock_profile.py
+-rw-rw-rw-  2.0 fat    72709 b- defN 23-Jul-13 11:39 siat/stock_technical.py
 -rw-rw-rw-  2.0 fat    19475 b- defN 23-Apr-10 11:29 siat/stock_test.py
 -rw-rw-rw-  2.0 fat     1571 b- defN 23-Apr-10 11:29 siat/temp.py
 -rw-rw-rw-  2.0 fat    16648 b- defN 23-Apr-18 09:06 siat/test2_graphviz.py
 -rw-rw-rw-  2.0 fat    16999 b- defN 23-Apr-14 14:38 siat/test_graphviz.py
 -rw-rw-rw-  2.0 fat     6122 b- defN 23-Jul-09 07:39 siat/test_markowitz_simple.py
 -rw-rw-rw-  2.0 fat     7407 b- defN 23-Jul-08 17:33 siat/test_markowitz_simple_revised.py
 -rw-rw-rw-  2.0 fat     7361 b- defN 23-Jul-09 11:15 siat/test_markowitz_simple_revised2.py
 -rw-rw-rw-  2.0 fat    14492 b- defN 23-Apr-10 11:29 siat/transaction.py
 -rw-rw-rw-  2.0 fat    18580 b- defN 23-Apr-10 11:29 siat/transaction_test.py
 -rw-rw-rw-  2.0 fat   117953 b- defN 23-Apr-10 11:29 siat/translate-20230125.py
 -rw-rw-rw-  2.0 fat   118133 b- defN 23-Apr-10 11:29 siat/translate-20230206.py
 -rw-rw-rw-  2.0 fat   121657 b- defN 23-Apr-10 11:29 siat/translate-20230215.py
--rw-rw-rw-  2.0 fat   134050 b- defN 23-Jul-04 11:47 siat/translate.py
+-rw-rw-rw-  2.0 fat   134125 b- defN 23-Jul-13 11:40 siat/translate.py
 -rw-rw-rw-  2.0 fat     3936 b- defN 23-Apr-10 11:29 siat/universal_test.py
--rw-rw-rw-  2.0 fat    51342 b- defN 23-May-11 00:30 siat/valuation_china.py
+-rw-rw-rw-  2.0 fat    52191 b- defN 23-Jul-13 11:46 siat/valuation_china.py
 -rw-rw-rw-  2.0 fat     1571 b- defN 23-Apr-10 11:29 siat/valuation_market_china_test.py
 -rw-rw-rw-  2.0 fat    14859 b- defN 23-Apr-10 11:29 siat/var_model_validation.py
--rw-rw-rw-  2.0 fat     1422 b- defN 23-Jul-12 15:26 siat-2.3.1.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 23-Jul-12 15:26 siat-2.3.1.dist-info/WHEEL
--rw-rw-rw-  2.0 fat        5 b- defN 23-Jul-12 15:26 siat-2.3.1.dist-info/top_level.txt
-?rw-rw-r--  2.0 fat    10131 b- defN 23-Jul-12 15:26 siat-2.3.1.dist-info/RECORD
-126 files, 7803845 bytes uncompressed, 1699112 bytes compressed:  78.2%
+-rw-rw-rw-  2.0 fat     1422 b- defN 23-Jul-13 12:31 siat-2.3.6.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 23-Jul-13 12:31 siat-2.3.6.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat        5 b- defN 23-Jul-13 12:31 siat-2.3.6.dist-info/top_level.txt
+?rw-rw-r--  2.0 fat    10131 b- defN 23-Jul-13 12:31 siat-2.3.6.dist-info/RECORD
+126 files, 7813194 bytes uncompressed, 1699992 bytes compressed:  78.2%
```

## zipnote {}

```diff
@@ -360,20 +360,20 @@
 
 Filename: siat/valuation_market_china_test.py
 Comment: 
 
 Filename: siat/var_model_validation.py
 Comment: 
 
-Filename: siat-2.3.1.dist-info/METADATA
+Filename: siat-2.3.6.dist-info/METADATA
 Comment: 
 
-Filename: siat-2.3.1.dist-info/WHEEL
+Filename: siat-2.3.6.dist-info/WHEEL
 Comment: 
 
-Filename: siat-2.3.1.dist-info/top_level.txt
+Filename: siat-2.3.6.dist-info/top_level.txt
 Comment: 
 
-Filename: siat-2.3.1.dist-info/RECORD
+Filename: siat-2.3.6.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## siat/financials.py

```diff
@@ -372,15 +372,18 @@
             except:
                 notfoundlist=notfoundlist+[t]
                 #print("  #Error(compare_snapshot): failed to get info of",item,"for",t)
                 continue
             
         name=codetranslate(t)
         row=pd.Series({'ticker':t,'item':item,'value':value,'name':name})
-        df=df.append(row,ignore_index=True)      
+        try:
+            df=df.append(row,ignore_index=True)
+        except:
+            df=df._append(row,ignore_index=True)
     
     if len(df) == 0:
         print("\n  #Warning(compare_snapshot): no stock info not found for specified stocks")
         print("  Possible reasons: no internet access to data source - Yahoo Finance")
         return None
     
     #处理小数点
@@ -532,15 +535,18 @@
         name=info[info.index == 'shortName']['Value'][0]
         name1=name.split(' ',1)[0]  #取空格分隔字符串的第一个单词
         name2=name1.split(',',1)[0]
         name3=name2.split('.',1)[0]
         """
         name=codetranslate(t)
         row=pd.Series({'ticker':t,'item':item,'value':value,'name':name})
-        df=df.append(row,ignore_index=True)         
+        try:
+            df=df.append(row,ignore_index=True)
+        except:
+            df=df._append(row,ignore_index=True)
     
     if len(df) == 0:
         print("  #Error(compare_snapshot): stock info not found in",tickers)
         return None
     
     #处理小数点
     try:
@@ -596,15 +602,18 @@
             print("  #Warning(compare_tax): stock info not available for",t)
             continue
         df1=df0.tail(1)
         name=codetranslate(t)
         reportdate=df1.index[0]
         taxrate=df1['tax rate'][0]
         row=pd.Series({'ticker':t,'name':name,'date':reportdate,'tax rate':round(taxrate,3)})
-        df=df.append(row,ignore_index=True)        
+        try:
+            df=df.append(row,ignore_index=True)
+        except:
+            df=df._append(row,ignore_index=True)
     
     df.sort_values(by='tax rate',ascending=True,inplace=True)
     df['key']=df['name']
     df.set_index('key',inplace=True)      
     #绘图
     if graph:
         print("...Calculating and drawing graph, please wait ...")
@@ -693,15 +702,18 @@
             print("  #Warning(compare_igr_sgr): stock info not available for",t)
             continue
         if igr is None or sgr is None: 
             print("  #Warning(compare_igr_sgr): stock info not available for",t)
             continue
         name=codetranslate(t)
         row=pd.Series({'ticker':t,'name':name,'IGR':round(igr,3),'SGR':round(sgr,3)})
-        df=df.append(row,ignore_index=True)        
+        try:
+            df=df.append(row,ignore_index=True)
+        except:
+            df=df._append(row,ignore_index=True)
     
     #绘制IGR
     df.sort_values(by='IGR',ascending=True,inplace=True)
     df['key']=df['name']
     df.set_index('key',inplace=True)      
     #绘图
     lang=check_language()
@@ -817,15 +829,18 @@
                 d1=date_adjust(d1,adjust=1)
                 if d1 in datelist_price:
                     found=True
                     pos=datelist_price.index(d1)
                     p=pricelist[pos]            
         #记录股价
         row=pd.Series({'endDate':d,'actualDate':d1,'Price':p})
-        pricedf=pricedf.append(row,ignore_index=True)
+        try:
+            pricedf=pricedf.append(row,ignore_index=True)
+        except:
+            pricedf=pricedf._append(row,ignore_index=True)
 
     #合成表
     fsdf1=pd.merge(fsdf,pricedf,on='endDate')
     fsdf1['BasicPE']=fsdf1['Price']/fsdf1['BasicEPS']
     fsdf1['DilutedPE']=fsdf1['Price']/fsdf1['DilutedEPS']
 
     return fsdf1
@@ -1320,15 +1335,18 @@
     import pandas as pd
     info_sub=pd.DataFrame(columns=['Item','Value'])
     infot=info.T
     for w in wishlist:
         if w in rowlist:
             v=infot[w][0]
             s=pd.Series({'Item':w,'Value':v})
-            info_sub=info_sub.append(s,ignore_index=True) 
+            try:
+                info_sub=info_sub.append(s,ignore_index=True)
+            except:
+                info_sub=info_sub._append(s,ignore_index=True)
     
     return info_sub
 
 if __name__=='__main__':
     basic=stock_basic(info)    
 
 #==============================================================================
@@ -1349,15 +1367,18 @@
     import pandas as pd
     info_sub=pd.DataFrame(columns=['Item','Value'])
     infot=info.T
     for w in wishlist:
         if w in rowlist:
             v=infot[w][0]
             s=pd.Series({'Item':w,'Value':v})
-            info_sub=info_sub.append(s,ignore_index=True) 
+            try:
+                info_sub=info_sub.append(s,ignore_index=True)
+            except:
+                info_sub=info_sub._append(s,ignore_index=True)
     
     return info_sub
 
 if __name__=='__main__':
     sub_info=stock_officers(info)    
 
 #==============================================================================
@@ -1375,15 +1396,18 @@
     import pandas as pd
     info_sub=pd.DataFrame(columns=['Item','Value'])
     infot=info.T
     for w in wishlist:
         if w in rowlist:
             v=infot[w][0]
             s=pd.Series({'Item':w,'Value':v})
-            info_sub=info_sub.append(s,ignore_index=True) 
+            try:
+                info_sub=info_sub.append(s,ignore_index=True)
+            except:
+                info_sub=info_sub._append(s,ignore_index=True)
     
     return info_sub
 
 if __name__=='__main__':
     risk_general=stock_risk_general(info)    
 
 #==============================================================================
@@ -1404,15 +1428,18 @@
     import pandas as pd
     info_sub=pd.DataFrame(columns=['Item','Value'])
     infot=info.T
     for w in wishlist:
         if w in rowlist:
             v=infot[w][0]
             s=pd.Series({'Item':w,'Value':v})
-            info_sub=info_sub.append(s,ignore_index=True) 
+            try:
+                info_sub=info_sub.append(s,ignore_index=True)
+            except:
+                info_sub=info_sub._append(s,ignore_index=True)
     
     return info_sub
 
 if __name__=='__main__':
     risk_esg=stock_risk_esg(info)  
     
 #==============================================================================
@@ -1444,15 +1471,18 @@
     import pandas as pd
     info_sub=pd.DataFrame(columns=['Item','Value'])
     infot=info.T
     for w in wishlist:
         if w in rowlist:
             v=infot[w][0]
             s=pd.Series({'Item':w,'Value':v})
-            info_sub=info_sub.append(s,ignore_index=True) 
+            try:
+                info_sub=info_sub.append(s,ignore_index=True)
+            except:
+                info_sub=info_sub._append(s,ignore_index=True)
     
     return info_sub
 
 if __name__=='__main__':
     fin_rates=stock_fin_rates(info) 
 
 #==============================================================================
@@ -1481,15 +1511,18 @@
     import pandas as pd
     info_sub=pd.DataFrame(columns=['Item','Value'])
     infot=info.T
     for w in wishlist:
         if w in rowlist:
             v=infot[w][0]
             s=pd.Series({'Item':w,'Value':v})
-            info_sub=info_sub.append(s,ignore_index=True) 
+            try:
+                info_sub=info_sub.append(s,ignore_index=True)
+            except:
+                info_sub=info_sub._append(s,ignore_index=True)
     
     return info_sub
 
 if __name__=='__main__':
     fin_statements=stock_fin_statements(info) 
 
 #==============================================================================
@@ -1523,15 +1556,18 @@
     import pandas as pd
     info_sub=pd.DataFrame(columns=['Item','Value'])
     infot=info.T
     for w in wishlist:
         if w in rowlist:
             v=infot[w][0]
             s=pd.Series({'Item':w,'Value':v})
-            info_sub=info_sub.append(s,ignore_index=True) 
+            try:
+                info_sub=info_sub.append(s,ignore_index=True)
+            except:
+                info_sub=info_sub._append(s,ignore_index=True)
     
     return info_sub
 
 if __name__=='__main__':
     market_rates=stock_market_rates(info) 
 
 #==============================================================================
```

## siat/financials_china.py

```diff
@@ -305,15 +305,18 @@
             df = ak.stock_financial_analysis_indicator(stock=t)
         except:
             print("  #Warning(liability_rank_china): failed to get liability info of",t)
             continue
         sub1=df[df.index == endDate]
         sub2=sub1[['资产负债率(%)']]
         sub2['股票代码']=t
-        liab_df=liab_df.append(sub2)
+        try:
+            liab_df=liab_df.append(sub2)
+        except:
+            liab_df=liab_df._append(sub2)
         
         #显示进度
         print_progress_percent2(t,a_share_codes,steps=10,leading_blanks=4)
 
     
     #获取全体股票的业绩报表，指定截止日期
     print('\b'*99," Retrieved financial info of",len(liab_df),"stocks ended on",endDate)
@@ -1123,15 +1126,18 @@
         x=tickerdf[rate].values[0]
         x_quantile=arg_percentile(df_industry[rate], x)
         tickerdf[rate+"-行业分位数%"]=x_quantile*100
         
         if rate in ['营业收入','净利润']:
             tickerdf[rate+"-占行业份额%"]=tickerdf[rate]/i_sum*100
             
-        ticker_result=ticker_result.append(tickerdf)
+        try:
+            ticker_result=ticker_result.append(tickerdf)
+        except:
+            ticker_result=ticker_result._append(tickerdf)
     
     #排序：降序
     ticker_result["排名"]=ticker_result[rate].rank(ascending=False).astype('int')
     ticker_result.sort_values(by=rate,ascending=False,inplace=True) 
     for c in ticker_result.columns:
         try:
             ticker_result[c]=ticker_result[c].apply(lambda x: simple_number(x))
@@ -1318,15 +1324,18 @@
             x=tickerdf[rate].values[0]
             x_quantile=arg_percentile(df_industry[rate], x)
             tickerdf[rate+"-行业分位数%"]=x_quantile*100
             
             if rate in ['营业收入','净利润']:
                 tickerdf[rate+"-占行业份额%"]=tickerdf[rate]/i_sum*100
                 
-            ticker_result=ticker_result.append(tickerdf)
+            try:
+                ticker_result=ticker_result.append(tickerdf)
+            except:
+                ticker_result=ticker_result._append(tickerdf)
         
         #排序：降序
         ticker_result["排名"]=ticker_result[rate].rank(ascending=False).astype('int')
         ticker_result.sort_values(by=rate,ascending=False,inplace=True) 
         for c in ticker_result.columns:
             try:
                 ticker_result[c]=ticker_result[c].apply(lambda x: simple_number(x))
@@ -1516,15 +1525,18 @@
         
         #排序字段
         cols=list(tickerdf)
         cols.sort(reverse=False)
         tickerdf2=tickerdf[cols]
         
         #加入结果数据表，用于返回
-        mtdf=mtdf.append(tickerdf2)
+        try:
+            mtdf=mtdf.append(tickerdf2)
+        except:
+            mtdf=mtdf._append(tickerdf2)
     
     return mtdf
 
 if __name__=='__main__':
     tickers=["600519.SS","600606.SS"] 
     mtdf=get_fin_performance_akm(tickers,'2020-12-31')
     
@@ -1635,15 +1647,18 @@
         promptdf=pd.DataFrame(columns=('财务指标代码', '财务指标名称'))
         key_list=rate_dict.keys()   
         for k in key_list:
             #print(k)
             result=rate_dict.get(k)
             (source,name_cn)=result
             s=pd.Series({'财务指标代码':k, '财务指标名称':name_cn})
-            promptdf=promptdf.append(s, ignore_index=True)
+            try:
+                promptdf=promptdf.append(s, ignore_index=True)
+            except:
+                promptdf=promptdf._append(s, ignore_index=True)
         promptdf.sort_values('财务指标代码',ascending=True,inplace=True)   
 
         #打印对齐   
         if printout:
             pd.set_option('display.max_columns', 1000)
             pd.set_option('display.width', 1000)
             pd.set_option('display.max_colwidth', 1000)
@@ -1800,15 +1815,18 @@
 
     if func1 == 'get_fin_performance_ak':
         fs_dates=cvt_fs_dates(start,end,period_type)
         #合成各个财报日期
         fpfm1=pd.DataFrame()
         for enddate in fs_dates:
             tmp=get_fin_performance_ak(ticker,enddate)
-            fpfm1=fpfm1.append(tmp)
+            try:
+                fpfm1=fpfm1.append(tmp)
+            except:
+                fpfm1=fpfm1._append(tmp)
         ratedf1=fpfm1[['ticker',name1,'股票简称','所处行业','同行数量']]
         if func2 == func1:
             ratedf2=fpfm1[['ticker',name2,'股票简称','所处行业','同行数量']]
     
     #若ratedf2尚未定义
     if not ('ratedf2' in locals().keys()):
         if func2 == 'get_fin_indicator_ak':
@@ -1821,15 +1839,18 @@
 
         if func2 == 'get_fin_performance_ak':
             fs_dates=cvt_fs_dates(start,end,period_type)
             #合成各个财报日期
             fpfm2=pd.DataFrame()
             for enddate in fs_dates:
                 tmp=get_fin_performance_ak(ticker,enddate)
-                fpfm2=fpfm2.append(tmp)
+                try:
+                    fpfm2=fpfm2.append(tmp)
+                except:
+                    fpfm2=fpfm2._append(tmp)
             ratedf2=fpfm2[['ticker',name2,'股票简称','所处行业','同行数量']]
             
     #过滤起始日期：
     ratedf1b=ratedf1[(ratedf1.index >= start1) & (ratedf1.index <= end1)]
     ratedf2b=ratedf2[(ratedf2.index >= start1) & (ratedf2.index <= end1)]
 
     #过滤年报类型
@@ -1922,15 +1943,18 @@
         if func == 'get_fin_performance_ak':
             if not ('fpfm' in locals().keys()):
                 fs_dates=cvt_fs_dates(start,end,period_type)
                 #合成各个财报日期
                 fpfm=pd.DataFrame()
                 for enddate in fs_dates:
                     tmp=get_fin_performance_ak(ticker,enddate)
-                    fpfm=fpfm.append(tmp)
+                    try:
+                        fpfm=fpfm.append(tmp)
+                    except:
+                        fpfm=fpfm._append(tmp)
             rdf=fpfm[['ticker',name,'股票简称','所处行业','同行数量']]
         
         rdf_list=rdf_list+[rdf]
             
     rdf_list1=[]
     for rdf in rdf_list:
         #过滤起始日期：
@@ -2023,15 +2047,18 @@
     #为了避免重复抓取，将此段独立出来
     if func == 'get_fin_performance_ak':
         fs_dates=cvt_fs_dates(start,end,period_type)
         #合成各个财报日期
         fpfm=pd.DataFrame()
         for enddate in fs_dates:
             tmp=get_fin_performance_akm(mticker_list,enddate)
-            fpfm=fpfm.append(tmp)
+            try:
+                fpfm=fpfm.append(tmp)
+            except:
+                fpfm=fpfm._append(tmp)
         
         #处理各个rdf进入列表
         for prefix in prefix_list:
             rdf=fpfm[fpfm['ticker'] == prefix]
             rdf2=rdf[['ticker',name,'股票简称','所处行业','同行数量']]
             rdf_list=rdf_list+[rdf2]
             
@@ -2105,16 +2132,18 @@
     rdf_all=pd.DataFrame()
     #rdf=rdf_list[0]
     for rdf in rdf_list:
         t=rdf['ticker'].values[0]
         df_tmp=rdf[[rate_name]]
         df_tmp.rename(columns={rate_name:t},inplace=True)
         df_tmpt=df_tmp.T
-        
-        rdf_all=rdf_all.append(df_tmpt)
+        try:
+            rdf_all=rdf_all.append(df_tmpt)
+        except:
+            rdf_all=rdf_all._append(df_tmpt)
     
     rdf_all['股票代码']=rdf_all.index
     rdf_all['股票简称']=rdf_all['股票代码'].apply(lambda x: cn_codetranslate(x))
     
     cols=list(rdf_all)
     for c in cols:
         try:
@@ -2383,15 +2412,18 @@
         t=rdf['ticker'].values[0]
         item=cols[1]
         value=rdf[item].values[0]
         name=codetranslate(t)
         if name == t:
             name=rdf[cols[2]].values[0]
         row=pd.Series({'ticker':t,'item':item,'value':value,'name':name})
-        df=df.append(row,ignore_index=True)         
+        try:
+            df=df.append(row,ignore_index=True)
+        except:
+            df=df._append(row,ignore_index=True)
     
     if len(df) == 0:
         print("  #Error(compare_snapshot_china): stock info not found in",tickers)
         error_flag=True
     if error_flag: return None
     
     #处理小数点
@@ -2465,15 +2497,18 @@
             print("  #Error(compare_tax_china): failed to get financial info for",t)
             continue
         df1=df0.tail(1)
         name=codetranslate(t)
         reportdate=df1.index[0]
         taxrate=df1['tax rate'][0]
         row=pd.Series({'ticker':t,'name':name,'date':reportdate,'tax rate%':round(taxrate*100,2)})
-        df=df.append(row,ignore_index=True)        
+        try:
+            df=df.append(row,ignore_index=True)
+        except:
+            df=df._append(row,ignore_index=True)
     
     df.sort_values(by='tax rate%',ascending=False,inplace=True)
     df['key']=df['name']
     df.set_index('key',inplace=True)      
     #绘图
     if graph:
         print("  Calculating and drawing graph, please wait ...")
@@ -2559,15 +2594,18 @@
             print("  #Warning(compare_igr_sgr_china): stock info not available for",t)
             continue
         if igr is None or sgr is None: 
             print("  #Warning(compare_igr_sgr_china): no stock info found for",t)
             continue
         name=codetranslate(t)
         row=pd.Series({'ticker':t,'name':name,'IGR%':round(igr*100,2),'SGR%':round(sgr*100,2)})
-        df=df.append(row,ignore_index=True)        
+        try:
+            df=df.append(row,ignore_index=True)
+        except:
+            df=df._append(row,ignore_index=True)
     
     #绘制IGR
     df.sort_values(by='IGR%',ascending=False,inplace=True)
     df['key']=df['name']
     df.set_index('key',inplace=True)      
     #绘图
     if graph:
@@ -2972,21 +3010,30 @@
     father_name_list=[]
     child_name_list=[]
     equity_portion_list=[]
     for i1 in range(len(L)):
         
         M=L[i1]
         father_name=M[1]
-        father_name_list.append(M[1])
-        father_layer=M[2]
-        child_name=M[3]
-        child_name_list.append(M[3])
-        child_layer=M[4]
-        equity_portion=M[5]
-        equity_portion_list.append(M[5])
+        try:
+            father_name_list.append(M[1])
+            father_layer=M[2]
+            child_name=M[3]
+            child_name_list.append(M[3])
+            child_layer=M[4]
+            equity_portion=M[5]
+            equity_portion_list.append(M[5])
+        except:
+            father_name_list._append(M[1])
+            father_layer=M[2]
+            child_name=M[3]
+            child_name_list._append(M[3])
+            child_layer=M[4]
+            equity_portion=M[5]
+            equity_portion_list._append(M[5])
         
         #debug使用
         #print(i1,M,father_name,father_layer,child_name,child_layer,equity_portion)
         
         for x in father_name:
             dic[father_name]=father_layer   #生成父单位名称和对应的层级（用字典考虑去重）
         
@@ -2995,15 +3042,18 @@
             
     name_layer_list = sorted(dic.items(), key=lambda x: x[1]) #对字典按值（value）进行排序（默认由小到大）
     
     u=[]
     for z in name_layer_list:
         company_name=z[0]
         layer=z[1]
-        u.append(z[1])
+        try:
+            u.append(z[1])
+        except:
+            u._append(z[1])
     number_of_layers=max(u) #计算出层数
     
     from graphviz import Digraph
     #按各公司的层数生产分层的节点：
     g=Digraph(name=codetranslate(ticker)+fsdate)
     
     for key in dic:
```

## siat/financials_china2.py

```diff
@@ -138,15 +138,18 @@
             dfs[c+"_期初"]=dfs[c].shift(1)
         #给字段排序，便于检查对比
         col_list_qc=list(dfs)
         col_list2=sorted(col_list_qc)
         dfs2=dfs[col_list2]
         
         #合成
-        df=df.append(dfs2)
+        try:
+            df=df.append(dfs2)
+        except:
+            df=df._append(dfs2)
 
     #删除空值行：谨慎！！！
     #df.dropna(inplace=True)
     
     #删除多余的列，修改列名
     del df['ticker_期初']
     df.rename(columns={'endDate_期初':'endDate_上期'},inplace=True)
@@ -220,15 +223,18 @@
             col_yes=col_yes+[c]
     
     dfs=pd.DataFrame(columns=['报表项目','是否全为零'])
     for cy in col_yes:
         allzero=(df[cy].std()==0)
 
         row=pd.Series({'报表项目':cy,'是否全为零':allzero})
-        dfs=dfs.append(row,ignore_index=True)  
+        try:
+            dfs=dfs.append(row,ignore_index=True)
+        except:
+            dfs=dfs._append(row,ignore_index=True)
         
     if printout:
         #设置打印对齐
         pd.set_option('display.max_columns', 1000)
         pd.set_option('display.width', 1000)
         pd.set_option('display.max_colwidth', 1000)
         pd.set_option('display.unicode.ambiguous_as_wide', True)
@@ -421,15 +427,18 @@
                 i_value_chg_pct='-'
         else:
             i_value_qc_yy,i_value_yy,i_value_chg_yy,i_value_chg_pct='-','-','-','-'
         
         row=pd.Series({'报表项目':i,'期初数':i_value_qc_yy, \
                        '期末数':i_value_yy, '变动额':i_value_chg_yy, \
                        '变动幅度%':i_value_chg_pct})
-        dfp=dfp.append(row,ignore_index=True)  
+        try:
+            dfp=dfp.append(row,ignore_index=True)
+        except:
+            dfp=dfp._append(row,ignore_index=True)
     
     dfp=dfp.replace(0,'-')  
     dfp=dfp.fillna('-')        
     
     #无序号打印
     if title_txt=='':
         ticker_name=codetranslate(ticker).replace("(A股)",'')
```

## siat/fund_china.py

```diff
@@ -75,15 +75,18 @@
         if len(df_tmp)==0:
             print("  #Error(fund_stock_holding_compare_china): stock fund",fund,"not found or wrong year",years[0])
             break
         
         if len(data)==0:
             data=df_tmp
         else:
-            data = data.append(df_tmp)
+            try:
+                data = data.append(df_tmp)
+            except:
+                data = data._append(df_tmp)
             
     data.drop_duplicates(keep='first', inplace=True)
 
     data['季度']=data['季度'].apply(lambda x:x[:6])
     data['季度'] = data['季度'].str.replace('年','Q')
     data['占净值比例'] = pd.to_numeric(data['占净值比例'])
 
@@ -216,24 +219,30 @@
         print("  #Error(fund_stock_holding_rank_china): stock fund",fund,"not found")
         return          
     """
     data=pd.DataFrame()
     try:
         for yr in years:
             df_tmp = ak.fund_portfolio_hold_em(symbol=code,date=yr)
-            data = data.append(df_tmp)
+            try:
+                data = data.append(df_tmp)
+            except:
+                data = data._append(df_tmp)
     except:
         years_1=[]
         for yr in years:
             yr_1=str(int(yr)-1)
             years_1=years_1+[yr_1]
             
         for yr in years_1:
             df_tmp = ak.fund_portfolio_hold_em(symbol=code,date=yr)
-            data = data.append(df_tmp)
+            try:
+                data = data.append(df_tmp)
+            except:
+                data = data._append(df_tmp)
             
     data.drop_duplicates(keep='first', inplace=True)
 
     # data['季度']=data['季度'].apply(lambda x:x[:8])
     data['季度']=data['季度'].apply(lambda x:x[:6])
     data['季度'] = data['季度'].str.replace('年','Q')
     #data['占净值比例'] = pd.to_numeric(data['占净值比例'])
@@ -260,15 +269,18 @@
         dft.reset_index(drop=True,inplace=True)
         dft['序号']=dft.index + 1
         dft2=dft.head(10)
         
         if len(data2)==0:
             data2=dft2
         else:
-            data2=data2.append(dft2)
+            try:
+                data2=data2.append(dft2)
+            except:
+                data2=data2._append(dft2)
     
     # 合成信息
     data2['持股状况']=data2.apply(lambda x: x['股票名称']+'('+str(x['占净值比例'])+'，'+str(x['持股数'])+')',axis=1)
     
     df = data2.set_index(['序号','季度']).stack().unstack([1,2]).head(10)
     
     #df = df.loc[:,(slice(None), '股票名称')] # 只选取 股票名称
@@ -1218,15 +1230,18 @@
         instlist=['私募股权、创业投资基金管理人','私募证券投资基金管理人','私募资产配置类管理人','其他私募投资基金管理人']
         mtype=pd.DataFrame(columns=['管理人类型','人数','占比%'])
         for t in instlist:
             df_sub=manager_df[manager_df['机构类型']==t]
             n=len(list(df_sub['法定代表人/执行事务合伙人(委派代表)姓名']))
             pct=round(n/num1*100,2)
             s=pd.Series({'管理人类型':t,'人数':n,'占比%':pct})
-            mtype=mtype.append(s,ignore_index=True) 
+            try:
+                mtype=mtype.append(s,ignore_index=True)
+            except:
+                mtype=mtype._append(s,ignore_index=True)
         mtype.sort_values(by=['人数'],ascending=False,inplace=True)
         mtype.reset_index(drop=True,inplace=True)        
         mtype.index=mtype.index + 1
         
         print(mtype)
         print(footnote)
         return manager_df
@@ -1242,15 +1257,18 @@
     print(texttranslate("其中分布在："))
     location=pd.DataFrame(columns=['注册地','人数','占比%'])
     for t in typelist:
         df_sub=manager_df[manager_df['注册地']==t]
         n=len(list(df_sub['法定代表人/执行事务合伙人(委派代表)姓名']))
         pct=round(n/num*100,2)
         s=pd.Series({'注册地':t,'人数':n,'占比%':pct})
-        location=location.append(s,ignore_index=True) 
+        try:
+            location=location.append(s,ignore_index=True)
+        except:
+            location=location._append(s,ignore_index=True)
     location.sort_values(by=['人数'],ascending=False,inplace=True)
         
     location.reset_index(drop=True,inplace=True)
     location.index=location.index + 1
     
     location10=location.head(10)
     pctsum=round(location10['占比%'].sum(),2)
```

## siat/future_china.py

```diff
@@ -397,15 +397,18 @@
         df=future_type_foreign_0(symbol=varietylist[0])
     except:
         pass
     for v in varietylist:
         try:
             df_tmp=future_type_foreign_0(symbol=v)
             #print(v)
-            df=df.append(df_tmp)
+            try:
+                df=df.append(df_tmp)
+            except:
+                df=df._append(df_tmp)
         except:
             pass
     df.drop_duplicates(inplace=True)
     
     return df
     
 #===========================================================================================
```

## siat/market_china.py

```diff
@@ -161,26 +161,35 @@
         maxlen=max(lenlist)        
         
         import pandas as pd
         info=pd.DataFrame(columns=('type','item','number'))
         df1s0=df1[df1['type']=='总貌']
         for i in itemlist:
             row=pd.Series({'type':'总貌','item':i,'number':list(df1s0[i])[0]})
-            info=info.append(row,ignore_index=True)            
-        
+            try:
+                info=info.append(row,ignore_index=True)            
+            except:
+                info=info._append(row,ignore_index=True)
+            
         df1s2=df1[df1['type']=='创业板']
         for i in itemlist:
             row=pd.Series({'type':'创业板','item':i,'number':list(df1s2[i])[0]})
-            info=info.append(row,ignore_index=True) 
-
+            try:
+                info=info.append(row,ignore_index=True) 
+            except:
+                info=info._append(row,ignore_index=True)
+                
         df2=df1[df1['type'].isin(['主板A股', '主板B股', '中小板'])]
         for i in itemlist:
             row=pd.Series({'type':'主板','item':i,'number':df2[i].sum()})
-            info=info.append(row,ignore_index=True)         
-        
+            try:
+                info=info.append(row,ignore_index=True)         
+            except:
+                info=info._append(row,ignore_index=True)
+                
         if lang == 'Chinese':
             print("\n=== 深圳证券交易所上市股票概况 ===\n")
         else:
              print("\n    Exchange Stock Summary： Shenzhen Stock Exchange\n")
              
         typelist=['总貌','主板','创业板']
         typeliste=['Stock overall','Main board','GEM board']
```

## siat/markowitz.py

```diff
@@ -755,15 +755,18 @@
                 std_chg_str='-'+str(-std_chg)+'%'
             else:
                 std_chg_str='-'+str(-std_chg)
         
         row=pd.Series({"名称":c,"年化收益率%":annual_return, \
                        "收益率变化":return_chg_str, \
                        "年化标准差%":annual_std,"标准差变化":std_chg_str,"收益/风险":sharpe_ratio})
-        prr=prr.append(row,ignore_index=True)          
+        try:
+            prr=prr.append(row,ignore_index=True)
+        except:
+            prr=prr._append(row,ignore_index=True)
     
     #先按风险降序排名，高者排前面
     prr.sort_values(by="年化标准差%",ascending=False,inplace=True)
     prr.reset_index(inplace=True)
     prr['风险排名']=prr.index+1
     
     #再按收益降序排名，高者排前面
@@ -866,15 +869,18 @@
             if pct_style:
                 std_chg_str='-'+str(-std_chg)+'%'
             else:
                 std_chg_str='-'+str(-std_chg)
         
         row=pd.Series({"Portfolio":c,"Annualized Return":annual_return,"Change of Return":return_chg_str, \
                        "Annualized Std":annual_std,"Change of Std":std_chg_str,"Return/Risk":sharpe_ratio})
-        prr=prr.append(row,ignore_index=True)          
+        try:
+            prr=prr.append(row,ignore_index=True)
+        except:
+            prr=prr._append(row,ignore_index=True)
     
     #处理小数位数，以便与其他地方的小数位数一致
     prr['Annualized Return']=round(prr['Annualized Return'],4)
     prr['Annualized Std']=round(prr['Annualized Std'],4)
     
     #先按风险降序排名，高者排前面
     prr.sort_values(by="Annualized Std",ascending=False,inplace=True)
@@ -1979,18 +1985,26 @@
         b_ = [(0,1) for i in range(n_stock)] # bounds, here no short
         c_ = ({'type':'eq', 'fun': lambda W: sum(W)-1. }) #constraint
         result=minimize(objFunction,W,(R,r),method='SLSQP'
                                     ,constraints=c_, bounds=b_)
         if not result.success: # handle error raise    
             BaseException(result.message)
         
-        out_mean.append(round(r,4)) # 4 decimal places
+        try:
+            out_mean.append(round(r,4)) # 4 decimal places
+        except:
+            out_mean._append(round(r,4))
+            
         std_=round(np.std(np.sum(R*result.x,axis=1)),6)
-        out_std.append(std_)
-        out_weight.append(result.x)
+        try:
+            out_std.append(std_)
+            out_weight.append(result.x)
+        except:
+            out_std._append(std_)
+            out_weight._append(result.x)
 
     #Code for plotting the efficient frontier
     
     plt.title('Efficient Frontier of Portfolio')
     plt.xlabel('Standard Deviation of portfolio (Risk))')
     plt.ylabel('Return of portfolio')
     
@@ -2045,19 +2059,25 @@
         b_ = [(0,1) for i in range(n_stock)] # bounds, here no short
         c_ = ({'type':'eq', 'fun': lambda W: sum(W)-1. }) #constraint
         result=minimize(objFunction,W,(R,r),method='SLSQP'
                                     ,constraints=c_, bounds=b_)
         if not result.success: # handle error raise    
             BaseException(result.message)
         
-        out_mean.append(round(r,4)) # 4 decimal places
-        std_=round(np.std(np.sum(R*result.x,axis=1)),6)
-        out_std.append(std_)
-        out_weight.append(result.x)
-
+        try:
+            out_mean.append(round(r,4)) # 4 decimal places
+            std_=round(np.std(np.sum(R*result.x,axis=1)),6)
+            out_std.append(std_)
+            out_weight.append(result.x)
+        except:
+            out_mean._append(round(r,4)) # 4 decimal places
+            std_=round(np.std(np.sum(R*result.x,axis=1)),6)
+            out_std._append(std_)
+            out_weight._append(result.x)
+            
     #Code for positioning
     out_std_min=min(out_std)
     pos=out_std.index(out_std_min)
     out_mean_min=out_mean[pos]
     x_left=out_std_min+0.25
     y_left=out_mean_min+0.5
     
@@ -2169,16 +2189,20 @@
     
     #计算相关性显著性并显示
     rlist = []
     plist = []
     for i in df.columns.values:
         for j in df.columns.values:
             r,p = pearsonr(df[i],df[j])
-            rlist.append(r)
-            plist.append(p)
+            try:
+                rlist.append(r)
+                plist.append(p)
+            except:
+                rlist._append(r)
+                plist._append(p)
     
     rarr = np.asarray(rlist).reshape(len(df.columns.values),len(df.columns.values))
     parr = np.asarray(plist).reshape(len(df.columns.values),len(df.columns.values))
     xlist = ax1.get_xticks()
     ylist = ax1.get_yticks()
     
     widthx = 0
```

## siat/option_china.py

```diff
@@ -2273,15 +2273,18 @@
         print(curdate,end=' ')
         akdate=convert_date_ts(curdate)    
         try:
             dftmp = ak.option_risk_indicator_sse(date=akdate)
         except:
             curdate=date_adjust(curdate,adjust=1)
             continue
-        df=df.append(dftmp)
+        try:
+            df=df.append(dftmp)
+        except:
+            df=df._append(dftmp)
         curdate=date_adjust(curdate,adjust=1)
         curdatepd=pd.to_datetime(curdate)
     print(' ')
     
     #整理数据    
     df['Date']=df['TRADE_DATE']
     df['date']=df['TRADE_DATE']
```

## siat/option_pricing.py

```diff
@@ -276,15 +276,18 @@
     for t in tlist:
         #通用修改点
         op=bsm_put(t,X,Days,r0,sigma,Days1,div1,printout=False)
         s=pd.Series({'Option Price':op,'Asset Price':t,'Strike Price':X, \
                      'Days to Maturity':Days,'Annual RF':r0, \
                      'Annual Sigma':sigma,'Div to Maturity':Days1, \
                      'Dividend':div1})
-        df=df.append(s,ignore_index=True)        
+        try:
+            df=df.append(s,ignore_index=True)
+        except:
+            df=df._append(s,ignore_index=True)
     #通用修改点
     df2=df.set_index(['Asset Price'])  
     if not graph: return df2      
     
     #绘图
     #通用修改点
     colname='Option Price'; collabel='看跌期权'
@@ -352,15 +355,18 @@
     for t in tlist:
         #通用修改点
         op=bsm_call(t,X,Days,r0,sigma,Days1,div1,printout=False)
         s=pd.Series({'Option Price':op,'Asset Price':t,'Strike Price':X, \
                      'Days to Maturity':Days,'Annual RF':r0, \
                      'Annual Sigma':sigma,'Div to Maturity':Days1, \
                      'Dividend':div1})
-        df=df.append(s,ignore_index=True)        
+        try:
+            df=df.append(s,ignore_index=True)
+        except:
+            df=df._append(s,ignore_index=True)
     #通用修改点
     df2=df.set_index(['Asset Price'])  
     if not graph: return df2      
     
     #绘图
     #通用修改点
     colname='Option Price'; collabel='看涨期权'
@@ -487,15 +493,18 @@
     for t in tlist:
         #通用修改点
         op=bsm_put(S0,X,t,r0,sigma,Days1,div1,printout=False)
         s=pd.Series({'Option Price':op,'Asset Price':S0,'Strike Price':X, \
                      'Days to Maturity':t,'Annual RF':r0, \
                      'Annual Sigma':sigma,'Div to Maturity':Days1, \
                      'Dividend':div1})
-        df=df.append(s,ignore_index=True)        
+        try:
+            df=df.append(s,ignore_index=True)
+        except:
+            df=df._append(s,ignore_index=True)
     #通用修改点
     df2=df.set_index(['Days to Maturity'])  
     if not graph: return df2      
     
     #绘图
     #通用修改点
     colname='Option Price'; collabel='看跌期权'
@@ -563,15 +572,18 @@
     for t in tlist:
         #通用修改点
         op=bsm_call(S0,X,t,r0,sigma,Days1,div1,printout=False)
         s=pd.Series({'Option Price':op,'Asset Price':S0,'Strike Price':X, \
                      'Days to Maturity':t,'Annual RF':r0, \
                      'Annual Sigma':sigma,'Div to Maturity':Days1, \
                      'Dividend':div1})
-        df=df.append(s,ignore_index=True)        
+        try:
+            df=df.append(s,ignore_index=True)
+        except:
+            df=df._append(s,ignore_index=True)
     #通用修改点
     df2=df.set_index(['Days to Maturity'])  
     if not graph: return df2      
     
     #绘图
     #通用修改点
     colname='Option Price'; collabel='看涨期权'
@@ -716,15 +728,18 @@
     for t in tlist:
         #通用修改点
         op=bsm_put(S0,X,Days,r0,t,Days1,div1,printout=False)
         s=pd.Series({'Option Price':op,'Asset Price':S0,'Strike Price':X, \
                      'Days to Maturity':Days,'Annual RF':r0, \
                      'Annual Sigma':t,'Div to Maturity':Days1, \
                      'Dividend':div1})
-        df=df.append(s,ignore_index=True)        
+        try:
+            df=df.append(s,ignore_index=True)
+        except:
+            df=df._append(s,ignore_index=True)
     #通用修改点
     df2=df.set_index(['Annual Sigma'])  
     if not graph: return df2      
     
     #绘图
     #通用修改点
     colname='Option Price'; collabel='看跌期权'
@@ -793,15 +808,18 @@
     for t in tlist:
         #通用修改点
         op=bsm_call(S0,X,Days,r0,t,Days1,div1,printout=False)
         s=pd.Series({'Option Price':op,'Asset Price':S0,'Strike Price':X, \
                      'Days to Maturity':Days,'Annual RF':r0, \
                      'Annual Sigma':t,'Div to Maturity':Days1, \
                      'Dividend':div1})
-        df=df.append(s,ignore_index=True)        
+        try:
+            df=df.append(s,ignore_index=True)
+        except:
+            df=df._append(s,ignore_index=True)
     #通用修改点
     df2=df.set_index(['Annual Sigma'])  
     if not graph: return df2      
     
     #绘图
     #通用修改点
     colname='Option Price'; collabel='看涨期权'
@@ -1343,15 +1361,18 @@
         opts2.dropna(inplace=True)
         wa_strike=round(((opts2['strike']*opts2['volume']).sum())/(opts2['volume'].sum()),2)
         
         s=pd.Series({'Ticker':ticker,'Date':d,'WA Strike':wa_strike, \
                      'Total Options':totalopts, \
                      'Calls in Total%':callsintotal,'OTM in Calls%':otmincalls,'OTM Calls in Total%':otmcallsintotal, \
                      'Puts in Total%':putsintotal,'OTM in Puts%':otminputs,'OTM Puts in Total%':otmputsintotal})
-        df=df.append(s,ignore_index=True)        
+        try:
+            df=df.append(s,ignore_index=True)
+        except:
+            df=df._append(s,ignore_index=True)
 
     #建立日期索引
     todatetime=lambda x:pd.to_datetime(x)
     df['date']=df['Date'].apply(todatetime)
     df2=df.set_index(['date'])  
     
     #绘图1：Calls vs Puts比例
@@ -1699,15 +1720,18 @@
         if trend[0]=='-':
             estsprice=avspofotmputs
         if trend == '+/-':
             estsprice=(avspofotmcalls + avspofotmputs)/2.0
         
         s=pd.Series({'Ticker':ticker,'Date':d,'Trend':trend,'Estimated Price':estsprice, \
             'OTM Volume Call/Put':rateqty,'OTM Amount Call/Put':rateamt,'Spot Date':lastsdate,'Spot Price':lastsprice})
-        df=df.append(s,ignore_index=True)  
+        try:
+            df=df.append(s,ignore_index=True)
+        except:
+            df=df._append(s,ignore_index=True)
         if DEBUG: print(", done!")
 
     #建立日期索引
     todatetime=lambda x:pd.to_datetime(x)
     df['date']=df['Date'].apply(todatetime)
     df2=df.set_index(['date'])
```

## siat/risk_adjusted_return.py

```diff
@@ -428,16 +428,20 @@
         #print(i,datelist[i],i1,datelist[i1],len(windf))
         
         #使用滚动窗口计算
         rar,ret_mean=eval(calc_func)(windf)
         
         #记录计算结果
         row=pd.Series({'Date':datelist[i1],'RAR':rar,'Mean(Ret)':ret_mean})
-        rars=rars.append(row,ignore_index=True)        
-    
+        try:
+            rars=rars.append(row,ignore_index=True)        
+        except:
+            # 可能与Python 3.11有关，不确定
+            rars=rars._append(row,ignore_index=True)
+        
     rars.set_index(['Date'],inplace=True) 
     ##########风险调整后的收益率，计算结束##########
     
     #第6步：绘图
     if graph == True:
         print("  Rendering graphics ...")
         draw_rar_ratio(rars,portfolio,ratio_name)
```

## siat/risk_evaluation.py

```diff
@@ -254,15 +254,19 @@
     result=pd.DataFrame(columns=['date','ticker','VaR','ratio'])
     for d in datelist:
         VaR,ratio=stock_VaR_normal_standard(ticker,shares,d, \
                 future_days,alpha,pastyears,printout=False)
         if (VaR is None) or (ratio is None): continue
         
         s = pd.Series({'date':d,'ticker':ticker,'VaR':VaR,'ratio':ratio})
-        result=result.append(s,ignore_index=True)
+        try:
+            result=result.append(s,ignore_index=True)
+        except:
+            result=result._append(s,ignore_index=True)
+            
     result2=result.set_index(['date'])    
     # result2是dateframe类型
     
     if printout == False: return result2
     
     #打印
     result3=result2.copy()
@@ -548,15 +552,19 @@
     result=pd.DataFrame(columns=['date','ticker','ES','ratio'])
     for d in datelist:
         ES,ratio=stock_ES_normal_standard(ticker,shares,d, \
                 future_days,alpha,pastyears,printout=False)
         if (ES is None) or (ratio is None): continue
         
         s = pd.Series({'date':d,'ticker':ticker,'ES':ES,'ratio':ratio})
-        result=result.append(s,ignore_index=True)
+        try:
+            result=result.append(s,ignore_index=True)
+        except:
+            result=result._append(s,ignore_index=True)
+            
     result2=result.set_index(['date'])    
     # result2是dateframe类型
     
     if printout == False: return result2
     
     #打印
     result3=result2.copy()
@@ -910,15 +918,19 @@
     # datelist是datetime类型日期的列表
     import pandas as pd
     result=pd.DataFrame(columns=['date','ticker','VaR','ratio'])
     for d in datelist:
         VaR,ratio=stock_VaR_normal_modified(ticker,shares,d, \
                 future_days,alpha,pastyears,printout=False)
         s = pd.Series({'date':d,'ticker':ticker,'VaR':VaR,'ratio':ratio})
-        result=result.append(s,ignore_index=True)
+        try:
+            result=result.append(s,ignore_index=True)
+        except:
+            result=result._append(s,ignore_index=True)
+            
     result2=result.set_index(['date'])    
     # result2是dateframe类型
     
     if printout == False: return result2
     
     #打印
     result3=result2.copy()
@@ -1395,15 +1407,19 @@
 
     import pandas as pd
     tlcpdf=pd.DataFrame(columns=['Ticker','Holding date','Alpha','Model','TLCP'])
     for t in tickerlist:
         tlcp=calc_VaR_tlcp(t,today,alpha,pastyears,model,printout=False)
         row=pd.Series({'Ticker':t,'Holding date':today,'Alpha':alpha, \
                        'Model':model,'TLCP':tlcp})
-        tlcpdf=tlcpdf.append(row,ignore_index=True)   
+        try:
+            tlcpdf=tlcpdf.append(row,ignore_index=True)
+        except:
+            tlcpdf=tlcpdf._append(row,ignore_index=True)
+            
         #print("TLCP for stock ",t,": ",tlcp," days",sep='')
     #tlcpdf=tlcpdf.set_index('Ticker')    
     tlcpdf=tlcpdf.sort_values(axis=0,ascending=True,by = 'TLCP')
     #tlcpdf.reset_index(drop=True)    
     tlcpdf.set_index('Ticker',drop=True,inplace=True)
     """
     #ax=plt.figure(figsize=(8,4))
@@ -1474,15 +1490,19 @@
         func="VaR_"+model
         #print(ticker,shares,today,d,alpha)
         VaR=round((eval(func)(position,r,d,alpha)),0)
         ratio=round((abs(VaR)/position*100),2)
         if ratio >= 100.0: ratio=100.0
         s = pd.Series({'ticker':ticker,'holding date':today,'holding day(s)':d, \
                        'VaR':VaR,'ratio%':ratio})
-        vardf=vardf.append(s,ignore_index=True)
+        try:
+            vardf=vardf.append(s,ignore_index=True)
+        except:
+            vardf=vardf._append(s,ignore_index=True)
+            
     vardf=vardf.set_index(['holding day(s)']) 
 
     #绘图
     if printout == True:
         plt.figure(figsize=(8,4))
         #绘制曲线：ratio
         plt.plot(vardf['ratio%'],color='red',lw=2,label=codetranslate(ticker),marker=markertype)
@@ -1657,15 +1677,18 @@
         ticker=tickerlist[t]
         q=get_stock_quotes(ticker,start,today)
         q['date']=q.index.strftime('%Y'+'%m'+'%d')
         q['ticker']=ticker
         q['price']=q['Close']    
         q['shares']=shareslist[t]
         q['value']=q['price']*q['shares']
-        prices=prices.append(q)
+        try:
+            prices=prices.append(q)
+        except:
+            prices=prices._append(q)
 
     prices2=prices.sort_values('date')
     groupKey='date'; groupWay=prices2.groupby(groupKey)
     prices3=groupWay['value'].sum()  
     position=prices3[-1]
     ret=prices3.pct_change()
     ret=ret.dropna()
@@ -1690,15 +1713,18 @@
         q=get_stock_quotes(ticker,start,today)
         q['date']=q.index.strftime('%Y'+'%m'+'%d')
         q['ticker']=ticker
         q['price']=q['Close']    
         q['shares']=shareslist[t]
         q['value']=q['price']*q['shares']
         q['ret']=q['price'].pct_change()
-        prices=prices.append(q)
+        try:
+            prices=prices.append(q)
+        except:
+            prices=prices._append(q)
     
     #portfolio收益率
     prices2=prices.sort_values('date')
     groupKey='date'; groupWay=prices2.groupby(groupKey)
     prices3=groupWay['value'].sum()  
     pret=prices3.pct_change()
     pret=pret.dropna()
@@ -1728,15 +1754,18 @@
         q=get_stock_quotes(ticker,start,today)
         q['date']=q.index.strftime('%Y'+'%m'+'%d')
         q['ticker']=ticker
         q['price']=q['Close']    
         q['shares']=0
         q['value']=0
         q['ret']=q['price'].pct_change()
-        prices=prices.append(q)
+        try:
+            prices=prices.append(q)
+        except:
+            prices=prices._append(q)
    
     #成分股收益率
     tickers_info=prices[['date','ticker','price','shares','value','ret']]
     return tickers_info
 
 #==============================================================================     
 def get_portfolio_rets(tickerlist,shareslist,tickers_info,today,pastyears=1):
@@ -1757,15 +1786,18 @@
     for index, row in tickers_info.iterrows():
         if (row['date'] >= startdate) and (row['date'] <= enddate):
             ticker=row['ticker']
             p=tickerlist.index(ticker)
             shares=shareslist[p]
             row['shares']=shares  
             row['value']=row['price']*shares
-            ti=ti.append(row,ignore_index=True)
+            try:
+                ti=ti.append(row,ignore_index=True)
+            except:
+                ti=ti._append(row,ignore_index=True)
           
     ti1=ti.sort_values('date')
     groupKey='date'; groupWay=ti1.groupby(groupKey)
     ti2=groupWay['value'].sum()  
     position=ti2[-1]
     pret=ti2.pct_change()
     pret=pret.dropna()
```

## siat/risk_free_rate.py

```diff
@@ -211,15 +211,18 @@
         try:
             rf=alpha/(1-beta)
         except:
             rf=np.NaN    
         
         row=pd.Series({'date':sdate2,'Beta':beta,'alpha':alpha, \
             'R-sqr':r_value**2,'p-value':p_value,'sig':sig,'Rf':rf,'ticker':ticker,'footnote':footnote})
-        betas=betas.append(row,ignore_index=True)       
+        try:
+            betas=betas.append(row,ignore_index=True)
+        except:
+            betas=betas._append(row,ignore_index=True)
     
     betas.set_index('date',inplace=True)
     
     return betas
 
 if __name__=='__main__':   
     df1=get_rf_capm('399001.SZ','000001.SS','2020-1-1','2020-12-31',window=240)
```

## siat/sector_china.py

```diff
@@ -526,15 +526,18 @@
         
         pos=vlist.index(v)
         pct=round((pos+1)/len(vlist)*100,2)
         
         s=pd.Series({'指标名称':compnames[complist.index(c)], \
                      '指标数值':v,'板块百分位数%':pct,'板块中位数':vmedian, \
                     '板块最小值':vmin,'板块最大值':vmax})
-        compdf=compdf.append(s,ignore_index=True) 
+        try:
+            compdf=compdf.append(s,ignore_index=True)
+        except:
+            compdf=compdf._append(s,ignore_index=True)
         
     compdf.reset_index(drop=True,inplace=True)     
 
     print("\n======= 股票在所属行业/板块的位置分析 =======")
     print("股票: "+sname+" ("+ticker+")")
     print("所属行业/板块："+sector_name+" ("+sector+", "+indicator+"分类)")
     print("")
@@ -1118,15 +1121,18 @@
         #记录
         idate=dft4.index.values[0]
         idate=pd.to_datetime(idate)
         iend=idate.strftime('%Y-%m-%d')
         try:
             ivalue=round(dft4[measure].values[0],2)
             s=pd.Series({'date':idate,'ticker':i,'start':start,'end':iend,'item':measure,'value':ivalue})
-            df=df.append(s,ignore_index=True) 
+            try:
+                df=df.append(s,ignore_index=True)
+            except:
+                df=df._append(s,ignore_index=True)
         except:
             print("  #Error(industry_ranking_sw): measure not supported",measure)
             return None
         
     df.sort_values(by='value',ascending=True,inplace=True)
     df['name']=df['ticker'].apply(lambda x: industry_sw_name(x))
     df.set_index('name',inplace=True)
@@ -1211,15 +1217,18 @@
         #记录
         idate=dft4.index.values[0]
         idate=pd.to_datetime(idate)
         iend=idate.strftime('%Y-%m-%d')
         try:
             ivalue=round(dft4[measure].values[0],2)
             s=pd.Series({'date':idate,'ticker':i,'start':start,'end':iend,'item':measure,'value':ivalue})
-            df=df.append(s,ignore_index=True) 
+            try:
+                df=df.append(s,ignore_index=True)
+            except:
+                df=df._append(s,ignore_index=True)
         except:
             print("  #Error(industry_ranking_sw): measure not supported",measure)
             return None
         
     df.sort_values(by='value',ascending=True,inplace=True)
     df['name']=df['ticker'].apply(lambda x: industry_sw_name(x))
     df.set_index('name',inplace=True)
@@ -1309,16 +1318,18 @@
         dft['Close']=dft['收盘']
         dft['Adj Close']=dft['收盘']
         dft['Volume']=dft['成交量']
         dft['Amount']=dft['成交额']
         
         dft.sort_index(ascending=True,inplace=True)
         dft2=dft[['ticker','Open','High','Low','Close','Adj Close','Volume','Amount']]
-        
-        df=df.append(dft2)
+        try:
+            df=df.append(dft2)
+        except:
+            df=df._append(dft2)
         
         current=ilist.index(i)
         print_progress_percent(current,total,steps=steps,leading_blanks=2)
     
     #num=list(set(list(df['ticker'])))
     print("  Successfully retrieved",len(df),"records in",len(ilist),"industries")
     #print("  Successfully retrieved",len(df),"records in",num,"industries")
@@ -1377,16 +1388,18 @@
         dft['Close']=dft['收盘']
         dft['Adj Close']=dft['收盘']
         dft['Volume']=dft['成交量']
         dft['Amount']=dft['成交额']
         
         dft.sort_index(ascending=True,inplace=True)
         dft2=dft[['ticker','Open','High','Low','Close','Adj Close','Volume','Amount']]
-        
-        df=df.append(dft2)
+        try:
+            df=df.append(dft2)
+        except:
+            df=df._append(dft2)
         
         current=ilist.index(i)
         print_progress_percent(current,total,steps=steps,leading_blanks=2)
     
     #num=list(set(list(df['ticker'])))
     print("  Successfully retrieved",len(df),"records in",len(ilist),"industries")
     #print("  Successfully retrieved",len(df),"records in",num,"industries")
@@ -1441,16 +1454,20 @@
         dft3=all_calculate(dft2,i,start,end)
         dft3['start']=start
 
         #截取绘图区间
         dft3a=dft3[(dft3.index >= start1) & (dft3.index <= end1)]
         
         dft4=dft3a.tail(1)
-        idf=idf.append(dft4)
-        idfall=idfall.append(dft3a)
+        try:
+            idf=idf.append(dft4)
+            idfall=idfall.append(dft3a)
+        except:
+            idf=idf._append(dft4)
+            idfall=idfall._append(dft3a)
 
         current=ilist.index(i)
         print_progress_percent(current,total,steps=steps,leading_blanks=2) 
     
     print("  Successfully processed",len(ilist),"industries")
     return idf,idfall
     
@@ -2383,16 +2400,20 @@
     #计算相关性显著性并显示
     from scipy.stats import pearsonr
     rlist = []
     plist = []
     for i in dfs.columns.values:
         for j in dfs.columns.values:
             r,p = pearsonr(dfs[i],dfs[j])
-            rlist.append(r)
-            plist.append(p)
+            try:
+                rlist.append(r)
+                plist.append(p)
+            except:
+                rlist._append(r)
+                plist._append(p)
     
     rarr = np.asarray(rlist).reshape(len(dfs.columns.values),len(dfs.columns.values))
     parr = np.asarray(plist).reshape(len(dfs.columns.values),len(dfs.columns.values))
     xlist = ax1.get_xticks()
     ylist = ax1.get_yticks()
     
     widthx = 0
```

## siat/security_prices.py

```diff
@@ -1168,15 +1168,18 @@
 
     :param df_a: pandas dataframe containing the columns that must form the first level of the multi index
     :param multi_level_col: name of second level column
     :return: tuple containing (first_level_cols,second_level_col)
     """
     temp_columns = []
     for item in df_a.columns:
-        temp_columns.append((item, multi_level_col))
+        try:
+            temp_columns.append((item, multi_level_col))
+        except:
+            temp_columns._append((item, multi_level_col))
     
     return temp_columns    
 #==============================================================================
 #==============================================================================
 #==============================================================================
 #==============================================================================
 def get_price_portfolio(tickerlist,sharelist,fromdate,todate,adj=False):
```

## siat/stock.py

```diff
@@ -2606,15 +2606,18 @@
     import pandas as pd
     info_sub=pd.DataFrame(columns=['Item','Value'])
     infot=info.T
     for w in wishlist:
         if w in rowlist:
             v=infot[w][0]
             s=pd.Series({'Item':w,'Value':v})
-            info_sub=info_sub.append(s,ignore_index=True) 
+            try:
+                info_sub=info_sub.append(s,ignore_index=True)
+            except:
+                info_sub=info_sub._append(s,ignore_index=True)
     
     return info_sub
 
 if __name__=='__main__':
     basic=stock_basic(info)    
 
 #==============================================================================
@@ -2633,15 +2636,18 @@
     import pandas as pd
     info_sub=pd.DataFrame(columns=['Item','Value'])
     infot=info.T
     for w in wishlist:
         if w in rowlist:
             v=infot[w][0]
             s=pd.Series({'Item':w,'Value':v})
-            info_sub=info_sub.append(s,ignore_index=True) 
+            try:
+                info_sub=info_sub.append(s,ignore_index=True)
+            except:
+                info_sub=info_sub._append(s,ignore_index=True)
     
     return info_sub
 
 if __name__=='__main__':
     sub_info=stock_officers(info)    
 
 #==============================================================================
@@ -2658,15 +2664,18 @@
     import pandas as pd
     info_sub=pd.DataFrame(columns=['Item','Value'])
     infot=info.T
     for w in wishlist:
         if w in rowlist:
             v=infot[w][0]
             s=pd.Series({'Item':w,'Value':v})
-            info_sub=info_sub.append(s,ignore_index=True) 
+            try:
+                info_sub=info_sub.append(s,ignore_index=True)
+            except:
+                info_sub=info_sub._append(s,ignore_index=True)
     
     return info_sub
 
 if __name__=='__main__':
     risk_general=stock_risk_general(info)    
 
 #==============================================================================
@@ -2693,15 +2702,18 @@
     import pandas as pd
     info_sub=pd.DataFrame(columns=['Item','Value'])
     infot=info.T
     for w in wishlist:
         if w in rowlist:
             v=infot[w][0]
             s=pd.Series({'Item':w,'Value':v})
-            info_sub=info_sub.append(s,ignore_index=True) 
+            try:
+                info_sub=info_sub.append(s,ignore_index=True)
+            except:
+                info_sub=info_sub._append(s,ignore_index=True)
     
     return info_sub
 
 if __name__=='__main__':
     risk_esg=stock_risk_esg(info)  
     
 #==============================================================================
@@ -2729,15 +2741,18 @@
     import pandas as pd
     info_sub=pd.DataFrame(columns=['Item','Value'])
     infot=info.T
     for w in wishlist:
         if w in rowlist:
             v=infot[w][0]
             s=pd.Series({'Item':w,'Value':v})
-            info_sub=info_sub.append(s,ignore_index=True) 
+            try:
+                info_sub=info_sub.append(s,ignore_index=True)
+            except:
+                info_sub=info_sub._append(s,ignore_index=True)
     
     return info_sub
 
 if __name__=='__main__':
     fin_rates=stock_fin_rates(info) 
 
 #==============================================================================
@@ -2769,15 +2784,18 @@
         if w in rowlist:
             if not (w in datelist):
                 v=infot[w][0]
             else:
                 v=infot[w][0][0:10]
                 
             s=pd.Series({'Item':w,'Value':v})
-            info_sub=info_sub.append(s,ignore_index=True) 
+            try:
+                info_sub=info_sub.append(s,ignore_index=True)
+            except:
+                info_sub=info_sub._append(s,ignore_index=True)
     
     return info_sub
 
 if __name__=='__main__':
     fin_statements=stock_fin_statements(info) 
 
 #==============================================================================
@@ -2806,15 +2824,18 @@
     import pandas as pd
     info_sub=pd.DataFrame(columns=['Item','Value'])
     infot=info.T
     for w in wishlist:
         if w in rowlist:
             v=infot[w][0]
             s=pd.Series({'Item':w,'Value':v})
-            info_sub=info_sub.append(s,ignore_index=True) 
+            try:
+                info_sub=info_sub.append(s,ignore_index=True)
+            except:
+                info_sub=info_sub._append(s,ignore_index=True)
     
     return info_sub
 
 if __name__=='__main__':
     market_rates=stock_market_rates(info) 
 
 #==============================================================================
```

## siat/stock_china.py

```diff
@@ -373,15 +373,19 @@
                     
                     prediction=knn1.predict(X_new)[0]
                     spread=abs(round(train_score-test_score,3))
                     
                     row=pd.Series({'spread':spread,'train_score':train_score, \
                                    'test_score':test_score,'neighbours':n, \
                                    'weight':w,'metric':m,'random':rs,'pred':prediction})
-                    results=results.append(row,ignore_index=True)
+                    try:
+                        results=results.append(row,ignore_index=True)
+                    except:
+                        results=results._append(row,ignore_index=True)
+                        
         print(int(n/n_num*100),'\b%, ',end='')
     print('done.') 
     
     #去掉严重过拟合的结果           
     r0=results[results['train_score'] < 1]
     #去掉训练集、测试集分数不过半的模型    
     r0=r0[r0['train_score'] > min_score]
@@ -554,15 +558,19 @@
                     test_score=round(knn1.score(X_test, y_test),3)
                     prediction=knn1.predict(X_new)[0]
                     spread=abs(round(train_score-test_score,3))
                     
                     row=pd.Series({'spread':spread,'train_score':train_score, \
                                    'test_score':test_score,'neighbours':n, \
                                    'weight':w,'metric':m,'random':rs,'pred':prediction})
-                    results=results.append(row,ignore_index=True)
+                    try:
+                        results=results.append(row,ignore_index=True)
+                    except:
+                        results=results._append(row,ignore_index=True)
+                        
         print(int(n/n_num*100),'\b% ',end='')
     print('done.') 
     
     
     # 过滤训练/测试分数差的结果
     r0=results[(results['train_score']>=min_score) & (results['test_score']>=min_score)]
     # 避免min_score设置得太高导致无结果，或者数量太多
@@ -834,15 +842,19 @@
                         #break
                         continue
                     spread=abs(round(train_score-test_score,3))
                     
                     row=pd.Series({'spread':spread,'train_score':train_score, \
                                    'test_score':test_score,'neighbours':n, \
                                    'weight':w,'metric':m,'random':rs,'pred':prediction})
-                    results=results.append(row,ignore_index=True)
+                    try:
+                        results=results.append(row,ignore_index=True)
+                    except:
+                        results=results._append(row,ignore_index=True)
+                        
         print(int(n/n_num*100),'\b% ',end='')
     print('.') 
     
     # 过滤训练/测试分数差的结果
     """
     r0=results[(results['train_score']>=min_score) & (results['test_score']>=min_score)]
```

## siat/stock_profile.py

```diff
@@ -210,15 +210,18 @@
             print("...Searching data for",t,"...",end='')
             sst1=tp.sustainability
             sst1.rename(columns={'Value':t},inplace=True)
         except: 
             print(", not found:-(")
             continue #未抓取到数据
         sst1t=sst1.T
-        sstt=sstt.append([sst1t])
+        try:
+            sstt=sstt.append([sst1t])
+        except:
+            sstt=sstt._append([sst1t])
         print(", done!")
     
     #只保留需要的列
     sust=sstt[['totalEsg','percentile','esgPerformance','environmentScore', \
                'environmentPercentile','socialScore','socialPercentile', \
                'governanceScore','governancePercentile','peerGroup','peerCount']].copy()
     sust.rename(columns={'totalEsg':'ESGscore','percentile':'ESGpercentile', \
```

## siat/stock_technical.py

```diff
@@ -1508,15 +1508,18 @@
                    'K value':KDJ_values[0],'D value':KDJ_values[1],'J value':KDJ_values[2],
                    'J days':J_days,'JvsK':JvsK,'JKcross':JKcross,
                    'value type':value_type, \
                    'past_days':past_days,'momemtum_days':momemtum_days,'future_days':future_days,
                    'threshhold':threshhold, \
                    'future up ratio':pcta,'future down ratio':pctb,'future vibrate ratio':pctc, \
                    't2- ratio':pctd,'t2+ ratio':pcte})
-    outcome=outcome.append(row,ignore_index=True)         
+    try:
+        outcome=outcome.append(row,ignore_index=True)
+    except:
+        outcome=outcome._append(row,ignore_index=True)         
     
     return outcome,df3
 
 #==============================================================================
 #==============================================================================
 if __name__ =="__main__":
     ticker='600518.SS'
```

## siat/translate.py

```diff
@@ -2492,15 +2492,18 @@
     df=pd.DataFrame(columns=['证券代码','证券名称','持仓比例'])
     for t in tickerlist:
         pos=tickerlist.index(t)
         tname=codetranslate(t)
         tweight=weights[pos]
         
         row=pd.Series({'证券代码':t,'证券名称':tname,'持仓比例':tweight})
-        df=df.append(row,ignore_index=True)          
+        try:
+            df=df.append(row,ignore_index=True)
+        except:
+            df=df._append(row,ignore_index=True)
     
     #按持仓比例降序
     df.sort_values(by='持仓比例',ascending=False,inplace=True)
     """
     #打印对齐
     pd.set_option('display.max_columns', 1000)
     pd.set_option('display.width', 1000)
```

## siat/valuation_china.py

```diff
@@ -773,15 +773,18 @@
             tmpdf=ret_df[[i]]
             tmpdf['行业']=i
             tmpdf.rename(columns={i:'ret'},inplace=True)
             
             if len(ret_reg)==0:
                 ret_reg=tmpdf
             else:
-                ret_reg=ret_reg.append(tmpdf)
+                try:
+                    ret_reg=ret_reg.append(tmpdf)
+                except:
+                    ret_reg=ret_reg._append(tmpdf)
         
         # 计算估值指标
         for val in valuation_list:
             with HiddenPrints():
                 val_df=compare_industry_valuation_sw(industry_names,start=start,end=end,
                                                  vtypes=val,graph=False)
             
@@ -794,15 +797,18 @@
                 tmpdf=val_df2[[i]]
                 tmpdf['行业']=i
                 tmpdf.rename(columns={i:val},inplace=True)
                 
                 if len(val_reg)==0:
                     val_reg=tmpdf
                 else:
-                    val_reg=val_reg.append(tmpdf)
+                    try:
+                        val_reg=val_reg.append(tmpdf)
+                    except:
+                        val_reg=val_reg._append(tmpdf)
         
             #合成    
             val_reg['日期']=val_reg.index
             ret_reg['日期']=ret_reg.index
             
             df_reg=val_reg.merge(ret_reg,how='inner',on=['日期','行业'])
             df_reg.set_index('日期',inplace=True)
@@ -817,15 +823,18 @@
             elif p_value < 0.05: siglevel='*  '
             else: siglevel='   '
             r_sqr=round(r_value**2,4)
             
             betas=pd.DataFrame(columns=('估值指标','收益率指标','行业','截距','估值系数','p值','显著性','R-sqr'))
             row=pd.Series({'估值指标':val,'收益率指标':m,'行业':'全行业','截距':alpha,'估值系数':beta, \
                            'p值':p_value,'显著性':siglevel,'R-sqr':r_sqr})
-            betas=betas.append(row,ignore_index=True) 
+            try:
+                betas=betas.append(row,ignore_index=True)
+            except:
+                betas=betas._append(row,ignore_index=True)
             
             industry_list=list(set(list(df_reg['行业']))) 
             for i in industry_list:
                 dftmp=df_reg[df_reg['行业']==i]
                 
                 output=stats.linregress(dftmp[val],dftmp['ret'])
                 (beta,alpha,r_value,p_value,std_err)=output
@@ -834,15 +843,18 @@
                 elif p_value < 0.01: siglevel='** '
                 elif p_value < 0.05: siglevel='*  '
                 else: siglevel='   '
                 r_sqr=round(r_value**2,4)
                 
                 row=pd.Series({'估值指标':val,'收益率指标':m,'行业':i,'截距':alpha,'估值系数':beta, \
                                'p值':p_value,'显著性':siglevel,'R-sqr':r_sqr})
-                betas=betas.append(row,ignore_index=True) 
+                try:
+                    betas=betas.append(row,ignore_index=True)
+                except:
+                    betas=betas._append(row,ignore_index=True)
             
             if val.lower() in ['pe','pb']:
                 betas['估值判断']=betas['估值系数'].apply(lambda x: '可能高估' if x <0 else '可能低估')
                 betas.sort_values(by=['估值系数','显著性'],ascending=[False,False],inplace=True)
             elif val.lower() in ['dividend']:
                 betas['估值判断']=betas['估值系数'].apply(lambda x: '可能高估' if x >0 else '可能低估')
                 betas.sort_values(by=['估值系数','显著性'],ascending=[True,False],inplace=True)
@@ -854,15 +866,18 @@
             betas_list=betas_list+[betas]
             lo_est_betas_list=lo_est_betas_list+[lo_est_betas]
     
         # 整理各个行业的综合评价
         # 合并betas
         allbetas=pd.DataFrame()
         for b in betas_list:
-            allbetas=allbetas.append(b)
+            try:
+                allbetas=allbetas.append(b)
+            except:
+                allbetas=allbetas._append(b)
         
         valtable=pd.DataFrame(columns=('行业', \
                                     ('PE','Annual Ret'), \
                                     ('PE','Quarterly Ret'), \
                                     ('PE','Monthly Ret'), \
                                     ('PB','Annual Ret'), \
                                     ('PB','Quarterly Ret'), \
@@ -873,15 +888,18 @@
                                     ))
         valtable_list=list(valtable)
         valtable_list.remove('行业')
         industry_names=list(set(list(allbetas['行业'])))
         for i in industry_names:
             pos=industry_names.index(i)
             row=pd.Series({'行业':i})
-            valtable=valtable.append(row,ignore_index=True) 
+            try:
+                valtable=valtable.append(row,ignore_index=True)
+            except:
+                valtable=valtable._append(row,ignore_index=True)
             
             for v in valtable_list:
                 val,ret=v
                 try:
                     val_value=allbetas[(allbetas['估值指标']==val) & (allbetas['收益率指标']==ret) & (allbetas['行业']==i)]['估值判断'].values[0]
                     if val_value == '可能低估':
                         val_value1='低估'
@@ -1021,15 +1039,18 @@
             tmpdf=ret_df[[i]]
             tmpdf['行业']=i
             tmpdf.rename(columns={i:'ret'},inplace=True)
             
             if len(ret_reg)==0:
                 ret_reg=tmpdf
             else:
-                ret_reg=ret_reg.append(tmpdf)
+                try:
+                    ret_reg=ret_reg.append(tmpdf)
+                except:
+                    ret_reg=ret_reg._append(tmpdf)
         
         # （2）处理估值指标
         df=pd.DataFrame()
         for val in valuation_list:
             
             #print("    Handling valuation",val,'with measure',m)
             
@@ -1046,15 +1067,18 @@
                 tmpdf=val_df2[[i]]
                 tmpdf['行业']=i
                 tmpdf.rename(columns={i:val},inplace=True)
                 
                 if len(val_reg)==0:
                     val_reg=tmpdf
                 else:
-                    val_reg=val_reg.append(tmpdf)
+                    try:
+                        val_reg=val_reg.append(tmpdf)
+                    except:
+                        val_reg=val_reg._append(tmpdf)
         
             # （c）合成滞后的估值指标和收益率    
             val_reg['日期']=val_reg.index
             ret_reg['日期']=ret_reg.index
             
             df_reg=val_reg.merge(ret_reg,how='inner',on=['日期','行业'])
             df_reg.set_index('日期',inplace=True)
```

## Comparing `siat-2.3.1.dist-info/METADATA` & `siat-2.3.6.dist-info/METADATA`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: siat
-Version: 2.3.1
+Version: 2.3.6
 Summary: Securities Investment Analysis Tools (siat)
 Home-page: https://pypi.org/project/siat/
 Author: Prof. WANG Dehong, Business School, BFSU (北京外国语大学 国际商学院 王德宏)
 Author-email: wdehong2000@163.com
 License: Copyright (C) WANG Dehong, 2023. For educational purpose only!
 Requires-Dist: pandas-datareader
 Requires-Dist: yfinance
```

## Comparing `siat-2.3.1.dist-info/RECORD` & `siat-2.3.6.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -31,96 +31,96 @@
 siat/esg_test.py,sha256=Z9m6GUt8O7oHZSEG9aDYpGdvvrv2AiRJdHTiU6jqmZ0,2944
 siat/exchange_bond_china.pickle,sha256=78r6E3vPFZlCYPcmS1asgVbe0FGAxsCWaw8ek42SdsY,1161358
 siat/fama_french.py,sha256=qDpsZOj0BLuzXXdNwJ1IPhDyNVAnTJFHqn80Hkp85ZI,47177
 siat/fama_french_test.py,sha256=M4O23lBKsJxhWHRluwCb3l7HSEn3OFTjzGMpehcevRg,4678
 siat/financial_base.py,sha256=YxNVfhbgLQ4stLojI9nklB4sdQNuROcILcO3M2uz4Gs,40695
 siat/financial_statements.py,sha256=KDUl9b92EV5IseLLnEmG3czDHAaay2SWM2MpzZXPHpk,21528
 siat/financial_statements_test.py,sha256=FLhx8JD-tVVWSBGux6AMz1jioXX4U4bp9DmgFHYXb_w,716
-siat/financials.py,sha256=Q83byemMjO8PqKp6MF196BV4NWLu5uwJU7cqZvKyoyk,77162
-siat/financials_china.py,sha256=eE7Gi678zRuqEEKoKygPbS3PFvD5HdNDJYTJzyZ3mG8,173961
-siat/financials_china2.py,sha256=NKYsPOp36qGBT0qt7TwlRIcu-FE8CoKifYWjTwDHgaw,60037
+siat/financials.py,sha256=-ISD7-XBVqV5HwCdxjesweEk4zZlqIDrWexK-z3ZY_w,78308
+siat/financials_china.py,sha256=rwhogT4mjLXXyGx5HyHeDsjsqGbFf-CHvW3X4I3xa80,175477
+siat/financials_china2.py,sha256=SGeraqbbmrk_PfRlfbYYYqGCXkgR7oUUWEYUVspNm5k,60275
 siat/financials_china2_test.py,sha256=Erz5k4LyOplBBvYls2MypuqHpVNJ3daiLdyeJezNPu0,2722
 siat/financials_china2_test2.py,sha256=C8CuYTMHN4Mhp-sTu-Bmg0zMXRCaYV6ezGDoYartRYQ,3507
 siat/financials_china2_test3.py,sha256=UXYSA80DNSPRhHpovc2MA9JkpILWMAQaRatbWCHBNPs,3118
 siat/financials_china_test.py,sha256=QS1SD_mXx4uH1Lg3gl2PmwLrvkLqkRs3e4x7SyFI_Xk,17549
 siat/financials_china_test2.py,sha256=WkNlVW_0hGegdw1rzg4BP_dKR-smdyUp9Fr00K7mPZY,5924
 siat/financials_china_test2_fin_indicator.py,sha256=WkNlVW_0hGegdw1rzg4BP_dKR-smdyUp9Fr00K7mPZY,5924
 siat/financials_test.py,sha256=HJ3CPo_Xckz2wXi3AEP6ZNWCF1Duc1pLi0Y10USiImc,23829
 siat/fred_test.py,sha256=KF50ssSbsfpa_kT6iuomD0vG4eXztAcOasZxg1OGX5w,1201
 siat/fund.py,sha256=wMDORsCBV8ZXfgwbtq-0bu3qqWY66dHnbqgllW0gWCo,24637
 siat/fund_china.pickle,sha256=hsPjNAQtvCMTPQV5lFk3sS7cngetWaxFvdyEtNvnU14,2047492
-siat/fund_china.py,sha256=UOYUGxYdRV0i4VNqzROHxD65K6dyd-U4zKagkUTTAuk,74734
+siat/fund_china.py,sha256=2BI4Lw9cp3QtowV3By0Fu_0lo057A-W4YbWlf6cgMms,75278
 siat/fund_china_test.py,sha256=-Bh6m0J0GPpIbYXx-H2vpzJoNFI6pE2C2jVPa8DazgE,6649
 siat/fund_test.py,sha256=V4ADb8Gsp8gyeFTwcgRsJBpnUih_O-Q2V1ILc5oKjK8,1116
-siat/future_china.py,sha256=PCHpxxC-eBDo3P_nkSeQzMnVCt-H7YAZEDJcxfkdnuU,17513
+siat/future_china.py,sha256=F-HsIf2Op8Z22RzTjet1g8COzldgnMjFNSXsAkeGyWo,17595
 siat/future_china_test.py,sha256=BrSzmDVaOHki6rntOtosmRn-6dkfOBuLulJNqh7MOpc,1163
 siat/global_index_test.py,sha256=hnFp3wqqzzL-kAP8mgxDZ54Bd5Ijf6ENi5YJlGBgcXw,2402
 siat/grafix.py,sha256=X31OzzrcGTZfKH92h4DB-DI9XJTUaAHVPRugKvHfwLQ,66109
 siat/grafix_test.py,sha256=kXvcpLgQNO7wd30g_bWljLj5UH7bIVI0_dUtXbfiKR0,3150
 siat/holding_risk.py,sha256=108tiI7DDl8uUZkyUiq6Y-McKeim1mxYsgqgk7CcXw8,30544
 siat/holding_risk_test.py,sha256=FRlw_9wFG98BYcg_cSj95HX5WZ1TvkGaOUdXD7-V86s,474
 siat/local_debug_test.py,sha256=CDAOffW1Rvs-TcNN5giWVvHMlch1w4dp-w5SIV9jXL0,3936
-siat/market_china.py,sha256=5dV-i5ngEdVXmbXbAghpxdnUIYzFV3l0CuttZcXCGdc,31158
-siat/markowitz.py,sha256=ytewWDDnhR9LEgNGMfjOLzrgdiLVA9HfofhjKRiQ4Fs,95641
+siat/market_china.py,sha256=66Vmpx5jYTviUn-zxGutrAaUrawdm_qp2Ow2SR5yjlY,31489
+siat/markowitz.py,sha256=2LqmuPdXJ8DTe701xxKMBzuqeOtM1p-s77Ak_TNLLQk,96375
 siat/markowitz_ccb_test.py,sha256=xBkkoaNHdq9KSUrNuHGgKTdNYUvgi84kNYcf719eoyE,1593
 siat/markowitz_ef_test.py,sha256=wjNlICkgRIqnonPeSIHo4Mu2GRtb9dr21wDt2kMNEcI,4032
 siat/markowitz_old.py,sha256=Lf7O_4QWT8RsdkHiUyc_7kKY3eZjKDtFR89Fz3pwYnY,33046
 siat/markowitz_simple-20230709.py,sha256=fSzRrX_3HN3lFGJ3PntJFjfHAOc7vjEUZ6T1uQGdc64,14160
 siat/markowitz_simple.py,sha256=56l2tLOCaALYTgSZBOLWzyq5ZvSlcnW7Hp0UyScwYoM,14281
 siat/markowitz_test.py,sha256=fDXoPp6DrKeneYjd0lbb0KfYUJj-VcOvVaPlfsIOstw,5818
 siat/markowitz_test2.py,sha256=FcVZqYU5va4567WGUVUJ7cMQdVbBGxeBAz82Y3BhCTI,2193
 siat/ml_cases.py,sha256=FYDk0O7l9hhHlbrlOVGgbH-h2DA503lhKFi9XugH1f0,86874
 siat/ml_cases_example.py,sha256=xRGb3YTQEDTOnaWNzZN_myU5umQnA2RdMNiPrxTmn9c,1673
 siat/ml_cases_example1.py,sha256=xRGb3YTQEDTOnaWNzZN_myU5umQnA2RdMNiPrxTmn9c,1673
-siat/option_china.py,sha256=Oorj8Bmrl22kuLOkEiqnTPwe37Jw-Vo3AhICQX4uwEc,95158
+siat/option_china.py,sha256=Drrr1QbyOIMwZRTxOc5508BXZTxsOIU0LHy32smgrSs,95227
 siat/option_china_test.py,sha256=UQ-YUHUjoGBQyanLcM-yzqeEIUQP_gCQIeT0W6rnUnA,16355
-siat/option_pricing.py,sha256=ZvOziCkXODUjqSw2Q7Ux_gepw9UQaGMgvbI_YuceyX8,69625
+siat/option_pricing.py,sha256=hTz0lD4Yoeq0jK4Kt38qKJC_iOz9a5qXC2OeXgnMmv8,70231
 siat/option_pricing_test.py,sha256=eeorV5Ja5vjlRXnP6fWJHetGU5Vb8SnLopkC6RV3GfA,2203
 siat/option_sina_api_test.py,sha256=dn-k_wrQnAaNKHoROvWJEc7lqlU0bwiV2Aa4usWAFGM,5908
 siat/proxy_test.py,sha256=erQJrmGs2X46z8Gb1h-7GYQ0rTUcaR8dxHExWoBz2eM,2610
 siat/quandl_test.py,sha256=EcPoXnLuqzPl5dKyVEZi3j3PJZFpsnU_iNPhLWC9p-A,1552
-siat/risk_adjusted_return.py,sha256=bOnlMAp8d1cEqXU_PBuW0DeqTJZhPxtXYJ7XN0mL2WY,49425
+siat/risk_adjusted_return.py,sha256=cEq4dMogPvhXn_1IC28AR6XdcQN94NLIuLvryfxJa_E,49572
 siat/risk_adjusted_return_test.py,sha256=m_VHL5AtT74cJv5i7taTeTfnkX48y0AFJk5phawyYWg,3416
-siat/risk_evaluation.py,sha256=lCDqCaSEppH0MFPFg-P14IYcF3IJqILbPfDmzf_AfcY,75061
+siat/risk_evaluation.py,sha256=k5yk4bxKsjxazp-kKfQyrXyFhIHz6fHk3AA4rk2jZXc,75899
 siat/risk_evaluation_test.py,sha256=YEXM96gKzTfwN4U61AS4Rr1tV7KgUvn4rRC6f3iMw9s,3731
-siat/risk_free_rate.py,sha256=r62zCl1qbI4lJU17GsgM-OmVx9oo3dltXeZVCNd6Uxg,12304
+siat/risk_free_rate.py,sha256=X9k-JvEtHkcQxiwCTMtTVz7LHojfAERu7eOzw_hKjsc,12388
 siat/risk_free_rate_test.py,sha256=CpmhUf8aEAEZeNu4gvWP2Mz2dLoIgBX5bI41vfUBEr8,4285
-siat/sector_china.py,sha256=sHd7nlYWCK0SWAZbu-BLn-3vNPe2E8OFaDFYF67Hoho,101523
+siat/sector_china.py,sha256=r_Rt63smYYEXxpHJ6mTvi2blO_bZ8yQ11OTi9g2OExY,102148
 siat/sector_china_test.py,sha256=1wq7ef8Bb_L8F0h0W6FvyBrIcBTEbrTV7hljtpj49U4,5843
 siat/security_price.py,sha256=2oHskgiw41KMGfqtnA0i2YjNNV6cYgtlUK0j3YeuXWs,29185
-siat/security_prices.py,sha256=1J4SA5tZB4iFrQ91ijUA7jn0kkbAF8Jgc0J__IHq_ow,74058
+siat/security_prices.py,sha256=cFSqDtBEYpcxySqvW-9zFuChuJWH1dHnwu3vPWHZLwU,74152
 siat/security_prices_test.py,sha256=OEphoJ87NPKoNow1QA8EU_5MUYrJF-qKoWKNapVfZNI,10779
 siat/setup.py,sha256=up65rQGLmTBkhtaMLowjoQXYmIsnycnm4g1SYmeQS6o,1335
 siat/shenwan index history test.py,sha256=JCVAzOSEldHalhSFa3pqD8JI_8_djPMQOxpkuYU-Esg,1418
-siat/stock.py,sha256=esJe4A-O6A1RX4KMZQpDuMV1B3eah2D_dTBn6Pb3DoA,129603
+siat/stock.py,sha256=mixEX7ez-S3fwypm25qOhb-eAXuLJm34eb7_GR4hy0w,130345
 siat/stock_advice_linear.py,sha256=-twT7IGP-NEplkL1WPSACcNJjggRB2j4mlAQCkzOAuo,31655
 siat/stock_base.py,sha256=uISvbRyOGy8p9QREA96CVydgflBkn5L3OXOGKl8oanc,1312
-siat/stock_china.py,sha256=jVSuCWr6TaTx0Y0sgqN-dU9ZL72uKiI_MzvugvH9NaI,82785
+siat/stock_china.py,sha256=IInnxq48z-31QINpIaR2I_s0S74FXa7RNbVXng3Dao4,83256
 siat/stock_china_test.py,sha256=eO4HWsSvc6qezl0LndjtL24lViEyrBjH_sx2c2Y2Q2M,1294
 siat/stock_info.pickle,sha256=o4M-pcN8Sh8QiwZQAZWY1aelI4xgIGIxors7n2uHSJI,1266744
 siat/stock_info_test.py,sha256=gfG3DbhDACbtD8wnv_R6zhj0t11XaC8NX8uLD9Qv3Fo,6122
 siat/stock_list_china_test.py,sha256=gv14UwMMvkZqtb6G7DCTSuehIwVHuVwu7w60p6gyHoo,1014
 siat/stock_prices_kneighbors.py,sha256=WfZvo5EyeBsm-T37zDj7Sl9dPSRq5Bx4JxIJ9IUum6s,36738
 siat/stock_prices_linear.py,sha256=-OUKRr27L2aStQgJSlJOrJ4gay_G7P-m-7t7cU2Yoqk,13991
-siat/stock_profile.py,sha256=kEoYOsHm0Kc75gEVchDbPbJNfzPvNi6QKTxMySo_2Fg,25017
-siat/stock_technical.py,sha256=MiW5LwWGBq8BqxjS8PD0wMSHPiwlIVixeeNJfq395J8,72626
+siat/stock_profile.py,sha256=gr7abaTBpGcMBH5Qo8idQKKRTegr-GDll6iFWXK1DJw,25092
+siat/stock_technical.py,sha256=bseQUWaoov3lS2lgGhcPDcTOA_LHFahSYmmNmfystyY,72709
 siat/stock_test.py,sha256=E9YJAvOw1VEGJSDI4IZuEjl0tGoisOIlN-g9UqA_IZE,19475
 siat/temp.py,sha256=gbJ0ioauuo4koTPH6WKUkqcXiQPafnbhU5eKJ6lpdLA,1571
 siat/test2_graphviz.py,sha256=05w2YJuIBH0LsJjdA60EFn7rL0vCo-CA6EVJEQOXNE4,16648
 siat/test_graphviz.py,sha256=CETKpDL8PnysS-PD3fHkeAgagUxjaUl0CsXPiadQySg,16999
 siat/test_markowitz_simple.py,sha256=jAgwpkdMGxvjlfEg0I8qbyLQHDd5rErWqHgiqVvOJlY,6122
 siat/test_markowitz_simple_revised.py,sha256=Tq44VTIjc75RR4_AMEWmU3-EW7TH4ZNEC6Zcer3fbmk,7407
 siat/test_markowitz_simple_revised2.py,sha256=r0KzW9zvaP9BTdXyB2M3MhRKtzHDIituAflT9ZTR9bs,7361
 siat/transaction.py,sha256=foTWS1qYXQFuzNTG2m7ec6aDgsJjzpKmyAbyxKcE8KU,14492
 siat/transaction_test.py,sha256=Z8g1LJCN4-mnUByXMUMoFmN0t105cbmsz2QmvSuIkbU,18580
 siat/translate-20230125.py,sha256=NPPSXhT38s5t9fzMvl_fvi4ckSB73ThLmZetVI-xGdU,117953
 siat/translate-20230206.py,sha256=-vtI125WyaJhmPotOpDAmclt_XnYVaWU9ByLWZ6FyYE,118133
 siat/translate-20230215.py,sha256=TJgtPE3n8IjljmZ4Pefy8dmHoNdFF-1zpML6BhA9FKE,121657
-siat/translate.py,sha256=pFi_U1_LLzcq6rE9ns0Hr0fLYjzB_n2sGLapdbLlVxw,134050
+siat/translate.py,sha256=NHaMYaQRfJJ8eTZc_J05vhhlqvZnYqDymZreR95E7OI,134125
 siat/universal_test.py,sha256=CDAOffW1Rvs-TcNN5giWVvHMlch1w4dp-w5SIV9jXL0,3936
-siat/valuation_china.py,sha256=gYYXeT9bBPyQ251TCsYlibWcu6JA8x-YOKqLUEeLE7U,51342
+siat/valuation_china.py,sha256=1hLnVfyQiyHdg2ZSIpNtLgvON-HzKxA7Pf7K01J6ThQ,52191
 siat/valuation_market_china_test.py,sha256=gbJ0ioauuo4koTPH6WKUkqcXiQPafnbhU5eKJ6lpdLA,1571
 siat/var_model_validation.py,sha256=zB_Skk_tmzIR15l6oAW3am4HBGVIG-eZ8gJhCdXZ8Qw,14859
-siat-2.3.1.dist-info/METADATA,sha256=FBHTIs731m-UHEPmDj_o1VRWqPmqBI2hhNVUbg_UxKE,1422
-siat-2.3.1.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-siat-2.3.1.dist-info/top_level.txt,sha256=r1cVyL7AIKqeAmEJjNR8FMT20OmEzufDstC2gv3NvEY,5
-siat-2.3.1.dist-info/RECORD,,
+siat-2.3.6.dist-info/METADATA,sha256=oAy674q6y8C8_0QvQTkBgj4zwEoEZC3ebK9upyen6Ks,1422
+siat-2.3.6.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+siat-2.3.6.dist-info/top_level.txt,sha256=r1cVyL7AIKqeAmEJjNR8FMT20OmEzufDstC2gv3NvEY,5
+siat-2.3.6.dist-info/RECORD,,
```

