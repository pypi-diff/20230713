# Comparing `tmp/yams_cli-3.3.7-py3-none-any.whl.zip` & `tmp/yams_cli-3.3.8-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,22 +1,22 @@
-Zip file size: 32777 bytes, number of entries: 20
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-26 09:54 yams_cli/__init__.py
--rw-r--r--  2.0 unx     1256 b- defN 23-Jun-26 09:54 yams_cli/connection_specs.py
--rw-r--r--  2.0 unx     4590 b- defN 23-Jun-26 09:54 yams_cli/profile.py
--rw-r--r--  2.0 unx     7246 b- defN 23-Jun-26 09:54 yams_cli/utils.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-26 09:54 yams_cli/logic/__init__.py
--rw-r--r--  2.0 unx    40535 b- defN 23-Jun-26 09:54 yams_cli/logic/args.py
--rw-r--r--  2.0 unx     1944 b- defN 23-Jun-26 09:54 yams_cli/logic/cli.py
--rw-r--r--  2.0 unx    40760 b- defN 23-Jun-26 09:54 yams_cli/logic/dispatcher.py
--rw-r--r--  2.0 unx     1326 b- defN 23-Jun-26 09:54 yams_cli/logic/injection.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-26 09:54 yams_cli/logic/core/__init__.py
--rw-r--r--  2.0 unx     8545 b- defN 23-Jun-26 09:54 yams_cli/logic/core/http_client.py
--rw-r--r--  2.0 unx    41501 b- defN 23-Jun-26 09:54 yams_cli/logic/core/manager.py
--rw-r--r--  2.0 unx     1124 b- defN 23-Jun-26 09:54 yams_cli/logic/core/models.py
--rw-r--r--  2.0 unx      828 b- defN 23-Jun-26 09:54 yams_cli/logic/exceptions/YamsException.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-26 09:54 yams_cli/logic/exceptions/__init__.py
--rw-r--r--  2.0 unx     9848 b- defN 23-Jun-26 09:55 yams_cli-3.3.7.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jun-26 09:55 yams_cli-3.3.7.dist-info/WHEEL
--rw-r--r--  2.0 unx       49 b- defN 23-Jun-26 09:55 yams_cli-3.3.7.dist-info/entry_points.txt
--rw-r--r--  2.0 unx        9 b- defN 23-Jun-26 09:55 yams_cli-3.3.7.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1653 b- defN 23-Jun-26 09:55 yams_cli-3.3.7.dist-info/RECORD
-20 files, 161306 bytes uncompressed, 30067 bytes compressed:  81.4%
+Zip file size: 32991 bytes, number of entries: 20
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-13 21:08 yams_cli/__init__.py
+-rw-r--r--  2.0 unx     1256 b- defN 23-Jul-13 21:08 yams_cli/connection_specs.py
+-rw-r--r--  2.0 unx     4590 b- defN 23-Jul-13 21:08 yams_cli/profile.py
+-rw-r--r--  2.0 unx     7246 b- defN 23-Jul-13 21:08 yams_cli/utils.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-13 21:08 yams_cli/logic/__init__.py
+-rw-r--r--  2.0 unx    40873 b- defN 23-Jul-13 21:08 yams_cli/logic/args.py
+-rw-r--r--  2.0 unx     1944 b- defN 23-Jul-13 21:08 yams_cli/logic/cli.py
+-rw-r--r--  2.0 unx    41264 b- defN 23-Jul-13 21:08 yams_cli/logic/dispatcher.py
+-rw-r--r--  2.0 unx     1326 b- defN 23-Jul-13 21:08 yams_cli/logic/injection.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-13 21:08 yams_cli/logic/core/__init__.py
+-rw-r--r--  2.0 unx     8545 b- defN 23-Jul-13 21:08 yams_cli/logic/core/http_client.py
+-rw-r--r--  2.0 unx    41652 b- defN 23-Jul-13 21:08 yams_cli/logic/core/manager.py
+-rw-r--r--  2.0 unx     1124 b- defN 23-Jul-13 21:08 yams_cli/logic/core/models.py
+-rw-r--r--  2.0 unx      828 b- defN 23-Jul-13 21:08 yams_cli/logic/exceptions/YamsException.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-13 21:08 yams_cli/logic/exceptions/__init__.py
+-rw-r--r--  2.0 unx     9848 b- defN 23-Jul-13 21:09 yams_cli-3.3.8.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-13 21:09 yams_cli-3.3.8.dist-info/WHEEL
+-rw-r--r--  2.0 unx       49 b- defN 23-Jul-13 21:09 yams_cli-3.3.8.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx        9 b- defN 23-Jul-13 21:09 yams_cli-3.3.8.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1653 b- defN 23-Jul-13 21:09 yams_cli-3.3.8.dist-info/RECORD
+20 files, 162299 bytes uncompressed, 30281 bytes compressed:  81.3%
```

## zipnote {}

```diff
@@ -39,23 +39,23 @@
 
 Filename: yams_cli/logic/exceptions/YamsException.py
 Comment: 
 
 Filename: yams_cli/logic/exceptions/__init__.py
 Comment: 
 
-Filename: yams_cli-3.3.7.dist-info/METADATA
+Filename: yams_cli-3.3.8.dist-info/METADATA
 Comment: 
 
-Filename: yams_cli-3.3.7.dist-info/WHEEL
+Filename: yams_cli-3.3.8.dist-info/WHEEL
 Comment: 
 
-Filename: yams_cli-3.3.7.dist-info/entry_points.txt
+Filename: yams_cli-3.3.8.dist-info/entry_points.txt
 Comment: 
 
-Filename: yams_cli-3.3.7.dist-info/top_level.txt
+Filename: yams_cli-3.3.8.dist-info/top_level.txt
 Comment: 
 
-Filename: yams_cli-3.3.7.dist-info/RECORD
+Filename: yams_cli-3.3.8.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## yams_cli/logic/args.py

```diff
@@ -1,14 +1,14 @@
 from __future__ import division, absolute_import, print_function
 
 import sys
 import argparse
 import textwrap
 
-from yams_cli.utils import get_version, get_latest_version, format_upgrade_msg
+from yams_cli.utils import get_version
 
 MAIN_DESCRIPTION = '''YAMS CLI\nhttps://yams.mpi-internal.com\n#yams @ Slack'''
 
 # Common arguments
 distribution_id = {
     'args': ['--distribution-id'],
     'required': True,
@@ -68,14 +68,27 @@
 }
 page = {
     'args': ['--page'],
     'required': False,
     'help': "what page of a document to transform (defaults to 1)",
 }
 
+webhook_url = {
+    'args': ['--webhook-url'],
+    'required': False,
+    'help': "the url to send the webhook ",
+}
+
+webhook_header = {
+    'args': ['--webhook-header'],
+    'required': False,
+    'action': 'append',
+    'nargs': '*',
+    'help': "name=value",
+}
 
 class CustomHelpFormatter(argparse.HelpFormatter):
     def __init__(self, *args, **kwargs):
         super(CustomHelpFormatter, self).__init__(*args, **kwargs)
         self._width = 1024
 
     def _fill_text(self, text, width, indent):
@@ -668,14 +681,16 @@
          "--object-id some-object-id --rule a-rule")
     ])
 
     commands['start'].add_argument_as_dict(domain_id)
     commands['start'].add_argument_as_dict(bucket_id)
     commands['start'].add_argument_as_dict(object_id)
     commands['start'].add_argument_as_dict(rule_id_or_alias)
+    commands['start'].add_argument_as_dict(webhook_url)
+    commands['start'].add_argument_as_dict(webhook_header)
 
     commands['status'].add_argument_as_dict(domain_id)
     commands['status'].add_argument_as_dict(bucket_id)
     commands['status'].add_argument_as_dict(object_id)
     commands['status'].add_argument_as_dict(rule_id_or_alias)
```

## yams_cli/logic/dispatcher.py

```diff
@@ -1020,15 +1020,30 @@
     @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def video_processing_start(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         object_id = args['object_id']
         rule_id = args['rule_id']
-        result = self._manager.start_video_processing(self.tenant_id, domain_id, bucket_id, object_id, rule_id)
+        webhook = None
+        if 'webhook_url' in args:
+            webhook = {
+                "url": args['webhook_url'],
+                "headers" : {}
+            }
+            webhook_url = args['webhook_url']
+            webhook_headers = {}
+
+            if "webhook_header" in args:
+                for i in args['webhook_header']:
+                    for header in i:
+                        header = header.split('=')
+                        webhook["headers"][header[0]] = header[1]
+
+        result = self._manager.start_video_processing(self.tenant_id, domain_id, bucket_id, object_id, rule_id, webhook)
 
         if result["status"] == 303:
             print("\nTranscoding already in progress or completed.")
         else:
             print("Transcoding accepted")
 
         print("Check job status with the following command:\n")
```

## yams_cli/logic/core/manager.py

```diff
@@ -1,14 +1,12 @@
 #!/usr/bin/env python
 # -*- coding: utf-8 -*-
 
 import logging
 import json
-import mimetypes
-from optparse import Option
 from pathlib import Path
 
 from injector import inject
 from requests import ConnectionError
 from tqdm import tqdm
 
 from yams_cli.logic.core.models import CreateAccessKeyResult
@@ -708,19 +706,25 @@
         self._http_client.validate_result(result, url, [204])
         return result["content"]
 
     # ######################################################
     # VIDEO
     # ######################################################
 
-    def start_video_processing(self, tenant_id, domain_id, bucket_id, object_id, rule_id):
+    def start_video_processing(self, tenant_id, domain_id, bucket_id, object_id, rule_id, webhook):
         path = "/tenants/{}/domains/{}/buckets/{}/video-processing/{}".format(
             tenant_id, domain_id, bucket_id, object_id)
+        request_body = None
 
-        response, url = self._mgmt_request("PUT", path, query_params={'rule': rule_id}, allow_redirects=False)
+        if webhook is not None and "url" in webhook:
+            request_body = {
+                "webhook": webhook
+            }
+
+        response, url = self._mgmt_request("PUT", path, json_content=request_body, query_params={'rule': rule_id}, allow_redirects=False)
         result = self._http_client.get_result_from_response(response)
         self._http_client.validate_result(result, url, [202, 303])
         return result
 
     def video_processing_status(self, tenant_id, domain_id, bucket_id, object_id, rule_id):
         path = "/tenants/{}/domains/{}/buckets/{}/video-processing/{}".format(
             tenant_id, domain_id, bucket_id, object_id)
```

## Comparing `yams_cli-3.3.7.dist-info/METADATA` & `yams_cli-3.3.8.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: yams-cli
-Version: 3.3.7
+Version: 3.3.8
 Summary: Yams CLI 
 Author: Team Edge
 Author-email: infrastructure-platform-edge@adevinta.com
 Classifier: Programming Language :: Python :: 3.7
 Description-Content-Type: text/markdown
 Requires-Dist: requests (==2.31.0)
 Requires-Dist: configparser (==5.3.0)
```

## Comparing `yams_cli-3.3.7.dist-info/RECORD` & `yams_cli-3.3.8.dist-info/RECORD`

 * *Files 16% similar despite different names*

```diff
@@ -1,20 +1,20 @@
 yams_cli/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 yams_cli/connection_specs.py,sha256=Ky-C-GEtasrkDCnQc4gy9aU1aIwtDWO_KjApqm32zVE,1256
 yams_cli/profile.py,sha256=zxk4K6imy750LrFf9DAvuA-FlEwlmJEK6OVuQh9SShE,4590
 yams_cli/utils.py,sha256=9HnYlYJYQZumOIkj1Dk8X2TpkZysbXxaloGZY7Jz0X8,7246
 yams_cli/logic/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-yams_cli/logic/args.py,sha256=eizbwi7A1vK_hpPZS6WCmExCiolIqmigrif0VofhjrU,40535
+yams_cli/logic/args.py,sha256=stjWDpbZSrCSLrqlUwMWrL8GEAQ8zMOCiC1t0sdUkPA,40873
 yams_cli/logic/cli.py,sha256=B3VJvlW20KxJui5HIOq9VoL008ydV1GauS9fRTurTuM,1944
-yams_cli/logic/dispatcher.py,sha256=Eb6un9WlNnYatI7-U57YKWgsOO-Vd_2O-_k9N0lfqow,40760
+yams_cli/logic/dispatcher.py,sha256=IyIbOsXZP3qrsELPalbvi09BJTTiijGAC8RLUDJB0NY,41264
 yams_cli/logic/injection.py,sha256=M_H2aTxLCdGaCSled8LCQxZVyFT7n2zoISIxXe4L8lw,1326
 yams_cli/logic/core/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 yams_cli/logic/core/http_client.py,sha256=G5O5-hAbQJ1LG-5s9UJrq0ZNDRqsJb0lECT4cBOor4I,8545
-yams_cli/logic/core/manager.py,sha256=ZqUMSfx4TxmznUWDK-Ovd86bJiZ6Aw90-2jId2mBm_E,41501
+yams_cli/logic/core/manager.py,sha256=aZcxCYlgkgoMN7YjWSNlCbVO8p36nchw5TLG1HindBs,41652
 yams_cli/logic/core/models.py,sha256=Ow6HjtDIZeCnSXhQCeDSe5NmPfxVRYEg4qR4eos7mQ4,1124
 yams_cli/logic/exceptions/YamsException.py,sha256=VseM49ggqCG4TzhToEGFlQndKII7oPlyN3rmaL7fqvk,828
 yams_cli/logic/exceptions/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-yams_cli-3.3.7.dist-info/METADATA,sha256=ytgiyfMWyVU09aQ6gSk7Ht2kIZXyosEoFfQHQvYWKe8,9848
-yams_cli-3.3.7.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-yams_cli-3.3.7.dist-info/entry_points.txt,sha256=DbyTPLf9AYYfczTwfiqaMQavTPyy_s68Fteo32GzHCA,49
-yams_cli-3.3.7.dist-info/top_level.txt,sha256=cmdesC2KvC8Q2oXndWeUp2cGKyqItFXMTModo3oU6oc,9
-yams_cli-3.3.7.dist-info/RECORD,,
+yams_cli-3.3.8.dist-info/METADATA,sha256=J-XNQhU4ohMg6zymaAlO4unbXxYa6DCRly8oaokssFQ,9848
+yams_cli-3.3.8.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+yams_cli-3.3.8.dist-info/entry_points.txt,sha256=DbyTPLf9AYYfczTwfiqaMQavTPyy_s68Fteo32GzHCA,49
+yams_cli-3.3.8.dist-info/top_level.txt,sha256=cmdesC2KvC8Q2oXndWeUp2cGKyqItFXMTModo3oU6oc,9
+yams_cli-3.3.8.dist-info/RECORD,,
```

